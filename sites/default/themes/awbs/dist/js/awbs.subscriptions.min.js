function str_pad(e){return String("00"+e).slice(-2)}function UpdateQueryString(e,t,n){n||(n=window.location.href);var i,r=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi");if(r.test(n))return"undefined"!=typeof t&&null!==t?n.replace(r,"$1"+e+"="+t+"$2$3"):(i=n.split("#"),n=i[0].replace(r,"$1$3").replace(/(&|\?)$/,""),"undefined"!=typeof i[1]&&null!==i[1]&&(n+="#"+i[1]),n);if("undefined"!=typeof t&&null!==t){var o=-1!==n.indexOf("?")?"&":"?";return i=n.split("#"),n=i[0]+o+e+"="+t,"undefined"!=typeof i[1]&&null!==i[1]&&(n+="#"+i[1]),n}return n}function returnDataSet(e){var t=0;"undefined"!=typeof e&&(t=e.length);var n;norm=[],norm.num_l="",norm.num_s="",norm.street_l="",norm.street_s="",norm.biz_l="",norm.biz_s="",norm.city_l="",norm.city_s="",norm.county_l="",norm.county_s="",norm.state_l="",norm.state_s="",norm.country_l="",norm.country_s="",norm.zip_l="",norm.zip_s="",norm.street_full="";for(var i=0;t>i;i++)n=e[i],norm.determined_by="suggestion","street_number"===e[i].types[0]&&(norm.num_l=n.long_name,norm.num_s=n.short_name),"route"===e[i].types[0]&&(norm.street_l=n.long_name,norm.street_s=n.short_name),"establishment"===e[i].types[0]&&(norm.biz_l=n.long_name,norm.biz_s=n.short_name),"locality"===e[i].types[0]&&(norm.city_l=n.long_name,norm.city_s=n.short_name),"administrative_area_level_2"===e[i].types[0]&&(norm.county_l=n.long_name,norm.county_s=n.short_name),"administrative_area_level_1"===e[i].types[0]&&(norm.state_l=n.long_name,norm.state_s=n.short_name),"country"===e[i].types[0]&&(norm.country_l=n.long_name,norm.country_s=n.short_name),"postal_code"===e[i].types[0]&&(norm.zip_l=n.long_name,norm.zip_s=n.short_name),"postal_code_suffix"===e[i].types[0]&&(norm.zip_l=norm.zip_l+"-"+n.long_name,norm.zip_s=norm.zip_s+"-"+n.short_name);return norm.street_full=norm.num_l+" "+norm.street_l,norm}function onCompPlaceChanged(){var e;phcompdata=autoc_comp.getPlace(),"undefined"!=typeof phcompdata&&phcompdata.address_components?(e=returnDataSet(phcompdata.address_components),ractive.set("compGoogleData",e)):ractive.set("compGoogleData",$("#form-company-address-full").val())}function onHomePlaceChanged(){var e;phdata=autoc_home.getPlace(),"undefined"!=typeof phdata&&phdata.address_components?(ga("send","event","AW Subscription Form","Selected Google suggested home address","Input action"),e=returnDataSet(phdata.address_components),ractive.set("homeGoogleData",e)):(ga("send","event","AW Subscription Form","Ignored Google suggested home address","Input action"),ractive.set("homeGoogleData",$("#form-home-delivery-address-full").val()))}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Ractive=t()}(this,function(){"use strict";function e(e){var t;if(e&&"boolean"!=typeof e)return"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null}function t(e){return e&&"unknown"!=typeof e.parentNode&&e.parentNode&&e.parentNode.removeChild(e),e}function n(e){return null!=e&&e.toString?e:""}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];for(var r,o;o=n.shift();)for(r in o)Au.call(o,r)&&(e[r]=o[r]);return e}function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e}function o(e){return"[object Array]"===Iu.call(e)}function s(e){return Ou.test(Iu.call(e))}function a(e,t){return null===e&&null===t?!0:"object"==typeof e||"object"==typeof t?!1:e===t}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)}function l(e){return e&&"[object Object]"===Iu.call(e)}function c(e,t){return e.replace(/%s/g,function(){return t.shift()})}function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];throw e=c(e,n),new Error(e)}function d(){qb.DEBUG&&Eu.apply(null,arguments)}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];e=c(e,n),xu(e,n)}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];e=c(e,n),Wu[e]||(Wu[e]=!0,xu(e,n))}function m(){qb.DEBUG&&f.apply(null,arguments)}function g(){qb.DEBUG&&p.apply(null,arguments)}function v(e,t,n){var i=_(e,t,n);return i?i[e][n]:null}function _(e,t,n){for(;t;){if(n in t[e])return t;if(t.isolated)return null;t=t.parent}}function y(e){return function(){return e}}function b(e){var t,n,i,r,o,s;for(t=e.split("."),(n=Uu[t.length])||(n=w(t.length)),o=[],i=function(e,n){return e?"*":t[n]},r=n.length;r--;)s=n[r].map(i).join("."),o.hasOwnProperty(s)||(o.push(s),o[s]=!0);return o}function w(e){var t,n,i,r,o,s,a,u,l="";if(!Uu[e]){for(i=[];l.length<e;)l+=1;for(t=parseInt(l,2),r=function(e){return"1"===e},o=0;t>=o;o+=1){for(n=o.toString(2);n.length<e;)n="0"+n;for(u=[],a=n.length,s=0;a>s;s++)u.push(r(n[s]));i[o]=u}Uu[e]=i}return Uu[e]}function P(e,t,n,i){var r=e[t];if(!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n))return e[t]=r?r.replace(n,i):i,!0}function k(e){var t=e.slice(2);return"i"===e[1]&&u(t)?+t:t}function C(e){return null==e?e:(Hu.hasOwnProperty(e)||(Hu[e]=new Bu(e)),Hu[e])}function E(e,t){function n(t,n){var i,r,s;return n.isRoot?s=[].concat(Object.keys(e.viewmodel.data),Object.keys(e.viewmodel.mappings),Object.keys(e.viewmodel.computations)):(i=e.viewmodel.wrapped[n.str],r=i?i.get():e.viewmodel.get(n),s=r?Object.keys(r):null),s&&s.forEach(function(e){"_ractive"===e&&o(r)||t.push(n.join(e))}),t}var i,r,s;for(i=t.str.split("."),s=[Gu];r=i.shift();)"*"===r?s=s.reduce(n,[]):s[0]===Gu?s[0]=C(r):s=s.map(x(r));return s}function x(e){return function(t){return t.join(e)}}function S(e){return e?e.replace(zu,".$1"):""}function A(e,t,n){if("string"!=typeof t||!u(n))throw new Error("Bad arguments");var i=void 0,r=void 0;if(/\*/.test(t))return r={},E(e,C(S(t))).forEach(function(t){var i=e.viewmodel.get(t);if(!u(i))throw new Error(Zu);r[t.str]=i+n}),e.set(r);if(i=e.get(t),!u(i))throw new Error(Zu);return e.set(t,+i+n)}function I(e,t){return Qu(this,e,void 0===t?1:+t)}function O(e){this.event=e,this.method="on"+e,this.deprecate=el[e]}function D(e,t){var n=e.indexOf(t);-1===n&&e.push(t)}function W(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]==t)return!0;return!1}function L(e,t){var n;if(!o(e)||!o(t))return!1;if(e.length!==t.length)return!1;for(n=e.length;n--;)if(e[n]!==t[n])return!1;return!0}function N(e){return"string"==typeof e?[e]:void 0===e?[]:e}function F(e){return e[e.length-1]}function M(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}function T(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t}function R(e){setTimeout(e,0)}function $(e,t){return function(){for(var n;n=e.shift();)n(t)}}function j(e,t,n,i){var r;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof tl)t.then(n,i);else if(!t||"object"!=typeof t&&"function"!=typeof t)n(t);else{try{r=t.then}catch(o){return void i(o)}if("function"==typeof r){var s,a,u;a=function(t){s||(s=!0,j(e,t,n,i))},u=function(e){s||(s=!0,i(e))};try{r.call(t,a,u)}catch(o){if(!s)return i(o),void(s=!0)}}else n(t)}}function U(e,t,n){var i;return t=S(t),"~/"===t.substr(0,2)?(i=C(t.substring(2)),H(e,i.firstKey,n)):"."===t[0]?(i=z(al(n),t),i&&H(e,i.firstKey,n)):i=V(e,C(t),n),i}function z(e,t){var n;if(void 0!=e&&"string"!=typeof e&&(e=e.str),"."===t)return C(e);if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),t=t.substring(3)}return n.push(t),C(n.join("."))}return C(e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,""))}function V(e,t,n,i){var r,o,s,a,u;if(t.isRoot)return t;for(o=t.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,s=e.viewmodel.get(r),s&&("object"==typeof s||"function"==typeof s)&&o in s))return r.join(t.str);return B(e.viewmodel,o)?t:e.parent&&!e.isolated&&(a=!0,n=e.component.parentFragment,o=C(o),u=V(e.parent,o,n,!0))?(e.viewmodel.map(o,{origin:e.parent.viewmodel,keypath:u}),t):i||a?void 0:(e.viewmodel.set(t,void 0),t)}function H(e,t){var n;!e.parent||e.isolated||B(e.viewmodel,t)||(t=C(t),(n=V(e.parent,t,e.component.parentFragment,!0))&&e.viewmodel.map(t,{origin:e.parent.viewmodel,keypath:n}))}function B(e,t){return""===t||t in e.data||t in e.computations||t in e.mappings}function q(e){e.teardown()}function G(e){e.unbind()}function Q(e){e.unrender()}function Z(e){e.cancel()}function K(e){e.detach()}function J(e){e.detachNodes()}function Y(e){!e.ready||e.outros.length||e.outroChildren||(e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),e.intros.length||e.totalChildren||("function"==typeof e.callback&&e.callback(),e.parent&&e.parent.decrementTotal()))}function X(){for(var e,t,n;cl.ractives.length;)t=cl.ractives.pop(),n=t.viewmodel.applyChanges(),n&&pl.fire(t,n);for(et(),e=0;e<cl.views.length;e+=1)cl.views[e].update();for(cl.views.length=0,e=0;e<cl.tasks.length;e+=1)cl.tasks[e]();return cl.tasks.length=0,cl.ractives.length?X():void 0}function et(){var e,t,n,i;for(e=fl.length;e--;)t=fl[e],t.keypath?fl.splice(e,1):(n=ul(t.root,t.ref,t.parentFragment))&&((i||(i=[])).push({item:t,keypath:n}),fl.splice(e,1));i&&i.forEach(tt)}function tt(e){e.item.resolve(e.keypath)}function nt(e,t,n){var i,r,o,s,a,u,l,c,h,d,f,p,m,g;if(i=new sl(function(e){return r=e}),"object"==typeof e){n=t||{},u=n.easing,l=n.duration,a=[],c=n.step,h=n.complete,(c||h)&&(f={},n.step=null,n.complete=null,d=function(e){return function(t,n){f[e]=n}});for(o in e)e.hasOwnProperty(o)&&((c||h)&&(p=d(o),n={easing:u,duration:l},c&&(n.step=p)),n.complete=h?p:Du,a.push(it(this,o,e[o],n)));return g={easing:u,duration:l},c&&(g.step=function(e){return c(e,f)}),h&&i.then(function(e){return h(e,f)}),g.complete=r,m=it(this,null,null,g),a.push(m),i.stop=function(){for(var e;e=a.pop();)e.stop();m&&m.stop()},i}return n=n||{},n.complete&&i.then(n.complete),n.complete=r,s=it(this,e,t,n),i.stop=function(){return s.stop()},i}function it(e,t,n,i){var r,o,s,u;return t&&(t=C(S(t))),null!==t&&(u=e.viewmodel.get(t)),_l.abort(t,e),a(u,n)?(i.complete&&i.complete(i.to),Pl):(i.easing&&(r="function"==typeof i.easing?i.easing:e.easing[i.easing],"function"!=typeof r&&(r=null)),o=void 0===i.duration?400:i.duration,s=new bl({keypath:t,from:u,to:n,root:e,duration:o,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),_l.add(s),e._animations.push(s),s)}function rt(){return this.detached?this.detached:(this.el&&M(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Cl.fire(this),this.detached)}function ot(e){return this.el?this.fragment.find(e):null}function st(e,t){var n;return n=this._isComponentQuery?!this.selector||e.name===this.selector:e.node?du(e.node,this.selector):null,n?(this.push(e.node||e.instance),t||this._makeDirty(),!0):void 0}function at(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function ut(e){var t,n;for(t=[e],n=at(e);n;)t.push(n),n=at(n);return t}function lt(e,t,n,i){var r=[];return Pu(r,{selector:{value:t},live:{value:n},_isComponentQuery:{value:i},_test:{value:xl}}),n?(Pu(r,{cancel:{value:Sl},_root:{value:e},_sort:{value:Ol},_makeDirty:{value:Dl},_remove:{value:Wl},_dirty:{value:!1,writable:!0}}),r):r}function ct(e,t){var n,i;return this.el?(t=t||{},n=this._liveQueries,(i=n[e])?t&&t.live?i:i.slice():(i=Ll(this,e,!!t.live,!1),i.live&&(n.push(e),n["_"+e]=i),this.fragment.findAll(e,i),i)):[]}function ht(e,t){var n,i;return t=t||{},n=this._liveComponentQueries,(i=n[e])?t&&t.live?i:i.slice():(i=Ll(this,e,!!t.live,!0),i.live&&(n.push(e),n["_"+e]=i),this.fragment.findAllComponents(e,i),i)}function dt(e){return this.fragment.findComponent(e)}function ft(e){return this.container?this.container.component&&this.container.component.name===e?this.container:this.container.findContainer(e):null}function pt(e){return this.parent?this.parent.component&&this.parent.component.name===e?this.parent:this.parent.findParent(e):null}function mt(e,t){var n=void 0===arguments[2]?{}:arguments[2];if(t){n.event?n.event.name=t:n.event={name:t,_noArg:!0};var i=C(t).wildcardMatches();gt(e,i,n.event,n.args,!0)}}function gt(e,t,n,i){var r,o,s=void 0===arguments[4]?!1:arguments[4],a=!0;for(jl.enqueue(e,n),o=t.length;o>=0;o--)r=e._subs[t[o]],r&&(a=vt(e,r,n,i)&&a);if(jl.dequeue(e),e.parent&&a){if(s&&e.component){var u=e.component.name+"."+t[t.length-1];t=C(u).wildcardMatches(),n&&(n.component=e)}gt(e.parent,t,n,i)}}function vt(e,t,n,i){var r=null,o=!1;n&&!n._noArg&&(i=[n].concat(i)),t=t.slice();for(var s=0,a=t.length;a>s;s+=1)t[s].apply(e,i)===!1&&(o=!0);return n&&!n._noArg&&o&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!o}function _t(e){var t={args:Array.prototype.slice.call(arguments,1)};Ul(this,e,t)}function yt(e){var t;return e=C(S(e)),t=this.viewmodel.get(e,Hl),void 0===t&&this.parent&&!this.isolated&&ul(this,e.str,this.component.parentFragment)&&(t=this.viewmodel.get(e)),t}function bt(t,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),n=e(n)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),n),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.detached=null,wt(this)}function wt(e){ql.fire(e),e.findAllComponents("*").forEach(function(e){wt(e.instance)})}function Pt(e,t,n){var i,r;return e=C(S(e)),i=this.viewmodel.get(e),o(i)&&o(t)?(r=ml.start(this,!0),this.viewmodel.merge(e,i,t,n),ml.end(),r):this.set(e,t,n&&n.complete)}function kt(e,t){var n,i;return n=E(e,t),i={},n.forEach(function(t){i[t.str]=e.get(t.str)}),i}function Ct(e,t,n,i){var r,o,s;t=C(S(t)),i=i||ac,t.isPattern?(r=new oc(e,t,n,i),e.viewmodel.patternObservers.push(r),o=!0):r=new Kl(e,t,n,i),r.init(i.init),e.viewmodel.register(t,r,o?"patternObservers":"observers"),r.ready=!0;var a={cancel:function(){var n;s||(o?(n=e.viewmodel.patternObservers.indexOf(r),e.viewmodel.patternObservers.splice(n,1),e.viewmodel.unregister(t,r,"patternObservers")):e.viewmodel.unregister(t,r,"observers"),s=!0)}};return e._observers.push(a),a}function Et(e,t,n){var i,r,o,s;if(l(e)){n=t,r=e,i=[];for(e in r)r.hasOwnProperty(e)&&(t=r[e],i.push(this.observe(e,t,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof e)return n=t,t=e,e="",sc(this,e,t,n);if(o=e.split(" "),1===o.length)return sc(this,e,t,n);for(i=[],s=o.length;s--;)e=o[s],e&&i.push(sc(this,e,t,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function xt(e,t,n){var i=this.observe(e,function(){t.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function St(e,t){var n,i=this;if(e)n=e.split(" ").map(cc).filter(hc),n.forEach(function(e){var n,r;(n=i._subs[e])&&(t?(r=n.indexOf(t),-1!==r&&n.splice(r,1)):i._subs[e]=[])});else for(e in this._subs)delete this._subs[e];return this}function At(e,t){var n,i,r,o=this;if("object"==typeof e){n=[];for(i in e)e.hasOwnProperty(i)&&n.push(this.on(i,e[i]));return{cancel:function(){for(var e;e=n.pop();)e.cancel()}}}return r=e.split(" ").map(cc).filter(hc),r.forEach(function(e){(o._subs[e]||(o._subs[e]=[])).push(t)}),{cancel:function(){return o.off(e,t)}}}function It(e,t){var n=this.on(e,function(){t.apply(this,arguments),n.cancel()});return n}function Ot(e,t,n){var i,r,o,s,a,u,l=[];if(i=Dt(e,t,n),!i)return null;for(r=e.length,a=i.length-2-i[1],o=Math.min(r,i[0]),s=o+i[1],u=0;o>u;u+=1)l.push(u);for(;s>u;u+=1)l.push(-1);for(;r>u;u+=1)l.push(u+a);return l.touchedFrom=0!==a?i[0]:e.length,l}function Dt(e,t,n){switch(t){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return e.length?[e.length-1,1]:[0,0];case"push":return[e.length,0].concat(n);case"shift":return[0,e.length?1:0];case"unshift":return[0,0].concat(n)}}function Wt(t,n){var i,r,o,s=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=ml.start(this,!0),ml.scheduleTask(function(){return Sc.fire(s)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(t=e(t)||this.el,n=e(n)||this.anchor,this.el=t,this.anchor=n,!this.append&&t){var a=t.__ractive_instances__;a&&a.length&&Lt(a),t.innerHTML=""}return this.cssId&&Ec.apply(),t&&((r=t.__ractive_instances__)?r.push(this):t.__ractive_instances__=[this],n?t.insertBefore(this.fragment.render(),n):t.appendChild(this.fragment.render())),ml.end(),this.transitionsEnabled=o,i.then(function(){return Ac.fire(s)})}function Lt(e){e.splice(0,e.length).forEach(q)}function Nt(e,t){for(var n=e.slice(),i=t.length;i--;)~n.indexOf(t[i])||n.push(t[i]);return n}function Ft(e,t){var n,i,r;return i='[data-ractive-css~="{'+t+'}"]',r=function(e){var t,n,r,o,s,a,u,l=[];for(t=[];n=Nc.exec(e);)t.push({str:n[0],base:n[1],modifiers:n[2]});for(o=t.map(Tt),u=t.length;u--;)a=o.slice(),r=t[u],a[u]=r.base+i+r.modifiers||"",s=o.slice(),s[u]=i+" "+s[u],l.push(a.join(" "),s.join(" "));return l.join(", ")},n=Mc.test(e)?e.replace(Mc,i):e.replace(Lc,"").replace(Wc,function(e,t){var n,i;return Fc.test(t)?e:(n=t.split(",").map(Mt),i=n.map(r).join(", ")+" ",e.replace(t,i))})}function Mt(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function Tt(e){return e.str}function Rt(e){e&&e.constructor!==Object&&("function"==typeof e||("object"!=typeof e?h("data option must be an object or a function, `"+e+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function $t(e,t){Rt(t);var n="function"==typeof e,i="function"==typeof t;return t||n||(t={}),n||i?function(){var r=i?jt(t,this):t,o=n?jt(e,this):e;return Ut(r,o)}:Ut(t,e)}function jt(e,t){var n=e.call(t);if(n)return"object"!=typeof n&&h("Data function must return an object"),n.constructor!==Object&&g("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Ut(e,t){if(e&&t){for(var n in t)n in e||(e[n]=t[n]);return e}return e||t}function zt(e){var t,n,i;return e.matchString("=")?(t=e.pos,e.allowWhitespace(),(n=e.matchPattern(Lh))?e.matchPattern(Nh)?(i=e.matchPattern(Lh))?(e.allowWhitespace(),e.matchString("=")?[n,i]:(e.pos=t,null)):(e.pos=t,null):null:(e.pos=t,null)):null}function Vt(e){var t;return(t=e.matchPattern(Mh))?{t:ph,v:t}:null}function Ht(e){var t,n;if(e.interpolate[e.inside]===!1)return null;for(n=0;n<e.tags.length;n+=1)if(t=Bt(e,e.tags[n]))return t}function Bt(e,t){var n,i,r,o;if(n=e.pos,e.matchString("\\"+t.open)){if(0===n||"\\"!==e.str[n-1])return t.open}else if(!e.matchString(t.open))return null;if(i=Wh(e))return e.matchString(t.close)?(t.open=i[0],t.close=i[1],e.sortMustacheTags(),Rh):null;if(e.allowWhitespace(),e.matchString("/")){e.pos-=1;var s=e.pos;Fh(e)?e.pos=s:(e.pos=s-t.close.length,e.error("Attempted to close a section that wasn't open"))}for(o=0;o<t.readers.length;o+=1)if(r=t.readers[o],i=r(e,t))return t.isStatic&&(i.s=!0),e.includeLinePositions&&(i.p=e.getLinePos(n)),i;return e.pos=n,null}function qt(e){var t;return(t=e.matchPattern(zh))?{t:lh,v:t}:null}function Gt(e){var t=e.remaining();return"true"===t.substr(0,4)?(e.pos+=4,{t:fh,v:"true"}):"false"===t.substr(0,5)?(e.pos+=5,{t:fh,v:"false"}):null}function Qt(e){var t;return(t=Zh(e))?Yh.test(t.v)?t.v:'"'+t.v.replace(/"/g,'\\"')+'"':(t=Uh(e))?t.v:(t=e.matchPattern(Kh))?t:void 0}function Zt(e){var t,n,i;return t=e.pos,e.allowWhitespace(),n=Jh(e),null===n?(e.pos=t,null):(e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),i=Ad(e),null===i?(e.pos=t,null):{t:gh,k:n,v:i}):(e.pos=t,null))}function Kt(e){var t,n,i,r;return t=e.pos,i=Xh(e),null===i?null:(n=[i],e.matchString(",")?(r=Kt(e),r?n.concat(r):(e.pos=t,null)):n)}function Jt(e){function t(e){i.push(e)}var n,i,r,o;return n=e.pos,e.allowWhitespace(),r=Ad(e),null===r?null:(i=[r],e.allowWhitespace(),e.matchString(",")&&(o=Jt(e),null===o&&e.error($h),o.forEach(t)),i)}function Yt(e){return Uh(e)||Vh(e)||Zh(e)||td(e)||id(e)||Fh(e)}function Xt(e){var t,n,i,r,o,s;return t=e.pos,i=e.matchPattern(/^@(?:keypath|index|key)/),i||(n=e.matchPattern(sd)||"",i=!n&&e.relaxedNames&&e.matchPattern(cd)||e.matchPattern(ld),i||"."!==n||(n="",i=".")),i?n||e.relaxedNames||!Bh.test(i)?!n&&Hh.test(i)?(r=Hh.exec(i)[0],e.pos=t+r.length,{t:mh,v:r}):(o=(n||"")+S(i),e.matchString("(")&&(s=o.lastIndexOf("."),-1!==s?(o=o.substr(0,s),e.pos=t+o.length):e.pos-=1),{t:vh,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(e.pos=t,null):null}function en(e){var t,n;return t=e.pos,e.matchString("(")?(e.allowWhitespace(),n=Ad(e),n||e.error($h),e.allowWhitespace(),e.matchString(")")||e.error(jh),{t:wh,x:n}):null}function tn(e){var t,n,i;if(t=e.pos,e.allowWhitespace(),e.matchString(".")){if(e.allowWhitespace(),n=e.matchPattern(Kh))return{t:_h,n:n};e.error("Expected a property name")}return e.matchString("[")?(e.allowWhitespace(),i=Ad(e),i||e.error($h),e.allowWhitespace(),e.matchString("]")||e.error("Expected ']'"),{t:_h,x:i}):null}function nn(e){var t,n,i,r;return(n=xd(e))?(t=e.pos,e.allowWhitespace(),e.matchString("?")?(e.allowWhitespace(),i=Ad(e),i||e.error($h),e.allowWhitespace(),e.matchString(":")||e.error('Expected ":"'),e.allowWhitespace(),r=Ad(e),r||e.error($h),{t:Ph,o:[n,i,r]}):(e.pos=t,n)):null}function rn(e){return Sd(e)}function on(e){function t(e){switch(e.t){case fh:case mh:case lh:case ph:return e.v;case ch:return JSON.stringify(String(e.v));case hh:return"["+(e.m?e.m.map(t).join(","):"")+"]";case dh:return"{"+(e.m?e.m.map(t).join(","):"")+"}";case gh:return e.k+":"+t(e.v);case bh:return("typeof"===e.s?"typeof ":e.s)+t(e.o);case kh:return t(e.o[0])+("in"===e.s.substr(0,2)?" "+e.s+" ":e.s)+t(e.o[1]);case Ch:return t(e.x)+"("+(e.o?e.o.map(t).join(","):"")+")";case wh:return"("+t(e.x)+")";case yh:return t(e.x)+t(e.r);case _h:return e.n?"."+e.n:"["+t(e.x)+"]";case Ph:return t(e.o[0])+"?"+t(e.o[1])+":"+t(e.o[2]);case vh:return"_"+n.indexOf(e.n);default:throw new Error("Expected legal JavaScript")}}var n;return sn(e,n=[]),{r:n,s:t(e)}}function sn(e,t){var n,i;if(e.t===vh&&-1===t.indexOf(e.n)&&t.unshift(e.n),i=e.o||e.m)if(l(i))sn(i,t);else for(n=i.length;n--;)sn(i[n],t);e.x&&sn(e.x,t),e.r&&sn(e.r,t),e.v&&sn(e.v,t)}function an(e,t){var n;if(e){for(;e.t===wh&&e.x;)e=e.x;return e.t===vh?t.r=e.n:e.t===lh&&Dd.test(e.v)?t.r=e.v:(n=un(e))?t.rx=n:t.x=Id(e),t}}function un(e){for(var t,n=[];e.t===yh&&e.r.t===_h;)t=e.r,n.unshift(t.x?t.x.t===vh?t.x:Id(t.x):t.n),e=e.x;return e.t!==vh?null:{r:e.n,m:n}}function ln(e,t){var n,i=Ad(e);return i?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),n={t:Zc},Od(i,n),n):null}function cn(e,t){var n,i;return e.matchString("&")?(e.allowWhitespace(),(n=Ad(e))?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),i={t:Zc},Od(n,i),i):null):null}function hn(e,t){var n,i,r,o,s;return n=e.pos,e.matchString(">")?(e.allowWhitespace(),i=e.pos,e.relaxedNames=!0,r=Ad(e),e.relaxedNames=!1,e.allowWhitespace(),o=Ad(e),e.allowWhitespace(),r?(s={t:eh},Od(r,s),e.allowWhitespace(),o&&(s={t:Kc,n:Ah,f:[s]},Od(o,s)),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),s):null):null}function dn(e,t){var n;return e.matchString("!")?(n=e.remaining().indexOf(t.close),-1!==n?(e.pos+=n+t.close.length,{t:th}):void 0):null}function fn(e,t){var n,i,r;if(n=e.pos,i=Ad(e),!i)return null;for(r=0;r<t.length;r+=1)if(e.remaining().substr(0,t[r].length)===t[r])return i;return e.pos=n,od(e)}function pn(e,t){var n,i,r,o;n=e.pos;try{i=Md(e,[t.close])}catch(s){o=s}if(!i){if("!"===e.str.charAt(n))return e.pos=n,null;if(o)throw o}if(!e.matchString(t.close)&&(e.error("Expected closing delimiter '"+t.close+"' after reference"),!i)){if("!"===e.nextChar())return null;e.error("Expected expression or legal reference")}return r={t:Qc},Od(i,r),r}function mn(e,t){var n,i,r;return e.matchPattern($d)?(n=e.pos,i=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),e.allowWhitespace(),e.matchString(t.close)||e.error("expected legal partial name"),r={t:sh},i&&(r.n=i),r):null}function gn(e,t){var n,i,r,o;return n=e.pos,e.matchString(t.open)?(e.allowWhitespace(),e.matchString("/")?(e.allowWhitespace(),i=e.remaining(),r=i.indexOf(t.close),-1!==r?(o={t:Yc,r:i.substr(0,r).split(" ")[0]},e.pos+=r,e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),o):(e.pos=n,null)):(e.pos=n,null)):null}function vn(e,t){var n=e.pos;return e.matchString(t.open)?e.matchPattern(zd)?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:Oh}):(e.pos=n,null):null}function _n(e,t){var n,i=e.pos;return e.matchString(t.open)?e.matchPattern(Hd)?(n=Ad(e),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:Dh,x:n}):(e.pos=i,null):null}function yn(e,t){var n,i,r,o,s,a,u,l,c,h,d,f;if(n=e.pos,e.matchString("^"))r={t:Kc,f:[],n:xh};else{if(!e.matchString("#"))return null;r={t:Kc,f:[]},e.matchString("partial")&&(e.pos=n-e.standardDelimiters[0].length,e.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=e.matchPattern(Zd))&&(f=u,r.n=Bd[u])}if(e.allowWhitespace(),i=Ad(e),i||e.error("Expected expression"),d=e.matchPattern(Gd)){var p=void 0;r.i=(p=e.matchPattern(Qd))?d+","+p:d}e.allowWhitespace(),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),e.sectionDepth+=1,s=r.f,c=[];do if(o=jd(e,t))f&&o.r!==f&&e.error("Expected "+t.open+"/"+f+t.close),e.sectionDepth-=1,h=!0;else if(o=Vd(e,t))r.n===xh&&e.error("{{else}} not allowed in {{#unless}}"),a&&e.error("illegal {{elseif...}} after {{else}}"),l||(l=bn(i,r.n)),l.f.push({t:Kc,n:Eh,x:Id(Pn(c.concat(o.x))),f:s=[]}),c.push(wn(o.x));else if(o=Ud(e,t))r.n===xh&&e.error("{{else}} not allowed in {{#unless}}"),a&&e.error("there can only be one {{else}} block, at the end of a section"),a=!0,l?l.f.push({t:Kc,n:Eh,x:Id(Pn(c)),f:s=[]}):(l=bn(i,r.n),s=l.f);else{if(o=e.read(ep),!o)break;s.push(o)}while(!h);return l&&(r.n===Ah&&(r.n=Ih),r.l=l),Od(i,r),r.f.length||delete r.f,r}function bn(e,t){var n;return t===Ah?(n={t:Kc,n:Eh,f:[]},Od(wn(e),n)):(n={t:Kc,n:xh,f:[]},Od(e,n)),n}function wn(e){return e.t===bh&&"!"===e.s?e.o:{t:bh,s:"!",o:kn(e)}}function Pn(e){return 1===e.length?e[0]:{t:kh,s:"&&",o:[kn(e[0]),kn(Pn(e.slice(1)))]}}function kn(e){return{t:wh,x:e}}function Cn(e){var t,n,i,r,o;return t=e.pos,e.matchString(Jd)?(i=e.remaining(),r=i.indexOf(Yd),-1===r&&e.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),e.pos+=r+3,o={t:th,c:n},e.includeLinePositions&&(o.p=e.getLinePos(t)),o):null}function En(e){return e.replace(Pd,function(e,t){var n;return n="#"!==t[0]?bd[t]:"x"===t[1]?parseInt(t.substring(2),16):parseInt(t.substring(1),10),n?String.fromCharCode(xn(n)):e})}function xn(e){return e?10===e?32:128>e?e:159>=e?wd[e-128]:55296>e?e:57343>=e?65533:65535>=e?e:65533:65533}function Sn(e){return e.replace(Ed,"&amp;").replace(kd,"&lt;").replace(Cd,"&gt;")}function An(e){return"string"==typeof e}function In(e){return e.t===th||e.t===nh}function On(e){return(e.t===Kc||e.t===Jc)&&e.f}function Dn(e,t,n,i,r){var s,a,u,l,c,h,d,f;for(lf(e),s=e.length;s--;)a=e[s],a.exclude?e.splice(s,1):t&&a.t===th&&e.splice(s,1);for(cf(e,i?pf:null,r?mf:null),s=e.length;s--;){if(a=e[s],a.f){var p=a.t===Xc&&ff.test(a.e);c=n||p,!n&&p&&cf(a.f,gf,vf),c||(u=e[s-1],l=e[s+1],(!u||"string"==typeof u&&mf.test(u))&&(h=!0),(!l||"string"==typeof l&&pf.test(l))&&(d=!0)),Dn(a.f,t,c,h,d)}if(a.l&&(Dn(a.l.f,t,n,h,d),e.splice(s+1,0,a.l),delete a.l),a.a)for(f in a.a)a.a.hasOwnProperty(f)&&"string"!=typeof a.a[f]&&Dn(a.a[f],t,n,h,d);if(a.m&&Dn(a.m,t,n,h,d),a.v)for(f in a.v)a.v.hasOwnProperty(f)&&(o(a.v[f].n)&&Dn(a.v[f].n,t,n,h,d),o(a.v[f].d)&&Dn(a.v[f].d,t,n,h,d))}for(s=e.length;s--;)"string"==typeof e[s]&&("string"==typeof e[s+1]&&(e[s]=e[s]+e[s+1],e.splice(s+1,1)),n||(e[s]=e[s].replace(df," ")),""===e[s]&&e.splice(s,1))}function Wn(e){var t,n;return t=e.pos,e.matchString("</")?(n=e.matchPattern(yf))?e.inside&&n!==e.inside?(e.pos=t,null):{t:rh,e:n}:(e.pos-=2,void e.error("Illegal closing tag")):null}function Ln(e){var t,n,i;return e.allowWhitespace(),(n=e.matchPattern(Pf))?(t={name:n},i=Nn(e),null!=i&&(t.value=i),t):null}function Nn(e){var t,n,i,r;return t=e.pos,/[=\/>\s]/.test(e.nextChar())||e.error("Expected `=`, `/`, `>` or whitespace"),e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),n=e.pos,i=e.sectionDepth,r=Tn(e,"'")||Tn(e,'"')||Mn(e),null===r&&e.error("Expected valid attribute value"),e.sectionDepth!==i&&(e.pos=n,e.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&"string"==typeof r[0]?En(r[0]):r:""):(e.pos=t,null)}function Fn(e){var t,n,i,r,o;return t=e.pos,(n=e.matchPattern(kf))?(i=n,r=e.tags.map(function(e){return e.open}),-1!==(o=bf(i,r))&&(n=n.substr(0,o),e.pos=t+n.length),n):null}function Mn(e){var t,n;for(e.inAttribute=!0,t=[],n=Th(e)||Fn(e);null!==n;)t.push(n),n=Th(e)||Fn(e);return t.length?(e.inAttribute=!1,t):null}function Tn(e,t){var n,i,r;if(n=e.pos,!e.matchString(t))return null;for(e.inAttribute=t,i=[],r=Th(e)||Rn(e,t);null!==r;)i.push(r),r=Th(e)||Rn(e,t);return e.matchString(t)?(e.inAttribute=!1,i):(e.pos=n,null)}function Rn(e,t){var n,i,r,o;return n=e.pos,r=e.remaining(),o=e.tags.map(function(e){return e.open}),o.push(t),i=bf(r,o),-1===i&&e.error("Quoted attribute value must have a closing quote"),i?(e.pos+=i,r.substr(0,i)):null}function $n(e){var t,n,i;return e.allowWhitespace(),(t=Jh(e))?(i={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(n=e.read())?(i.value=n.v,i):null):null):null}function jn(e,t){var n,i,r,o,s,a,u,l,c;if("string"==typeof e){if(i=Sf.exec(e)){var h=e.lastIndexOf(")");return Af.test(e)||t.error("Invalid input after method call expression '"+e.slice(h+1)+"'"),n={m:i[1]},o="["+e.slice(n.m.length+1,h)+"]",r=new Cf(o),n.a=Id(r.result[0]),n}if(-1===e.indexOf(":"))return e.trim();e=[e]}if(n={},u=[],l=[],e){for(;e.length;)if(s=e.shift(),"string"==typeof s){if(a=s.indexOf(":"),-1!==a){a&&u.push(s.substr(0,a)),s.length>a+1&&(l[0]=s.substring(a+1));break}u.push(s)}else u.push(s);l=l.concat(e)}return u.length?l.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===l.length&&"string"==typeof l[0]?(c=Ef("["+l[0]+"]"),n.a=c?c.value:l[0].trim()):n.d=l):n=u:n="",n}function Un(e){var t,n,i,r,o,s,a,u,l,c,h,d,f,p,m,g;if(t=e.pos,e.inside||e.inAttribute)return null;if(!e.matchString("<"))return null;if("/"===e.nextChar())return null;if(n={},e.includeLinePositions&&(n.p=e.getLinePos(t)),e.matchString("!"))return n.t=uh,e.matchPattern(/^doctype/i)||e.error("Expected DOCTYPE declaration"),n.a=e.matchPattern(/^(.+?)>/),n;if(n.t=Xc,n.e=e.matchPattern(Of),!n.e)return null;for(Df.test(e.nextChar())||e.error("Illegal tag name"),o=function(t,i){var r=i.n||i;Nf.test(r)&&(e.pos-=r.length,e.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[t]=i},e.allowWhitespace();s=Th(e)||wf(e);)s.name?(i=Ff[s.name])?n[i]=xf(s.value,e):(r=Lf.exec(s.name))?(n.v||(n.v={}),a=xf(s.value,e),o(r[1],a)):e.sanitizeEventAttributes&&Wf.test(s.name)||(n.a||(n.a={}),n.a[s.name]=s.value||(""===s.value?"":0)):(n.m||(n.m=[]),n.m.push(s)),e.allowWhitespace();if(e.allowWhitespace(),e.matchString("/")&&(u=!0),!e.matchString(">"))return null;var v=n.e.toLowerCase(),_=e.preserveWhitespace;if(!u&&!yd.test(n.e)){e.elementStack.push(v),("script"===v||"style"===v)&&(e.inside=v),l=[],c=bu(null);do if(p=e.pos,m=e.remaining(),zn(v,m))if(g=_f(e)){f=!0;var y=g.e.toLowerCase();if(y!==v&&(e.pos=p,!~e.elementStack.indexOf(y))){var b="Unexpected closing tag";
yd.test(y)&&(b+=" (<"+y+"> is a void element - it cannot contain children)"),e.error(b)}}else(d=jd(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?(f=!0,e.pos=p):(d=e.read(tp))?(c[d.n]&&(e.pos=p,e.error("Duplicate partial definition")),hf(d.f,e.stripComments,_,!_,!_),c[d.n]=d.f,h=!0):(d=e.read(ep))?l.push(d):f=!0;else f=!0;while(!f);l.length&&(n.f=l),h&&(n.p=c),e.elementStack.pop()}return e.inside=null,e.sanitizeElements&&-1!==e.sanitizeElements.indexOf(v)?Mf:n}function zn(e,t){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t),i=If[e],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function Vn(e){var t,n,i,r;return n=e.remaining(),r=e.inside?"</"+e.inside:"<",e.inside&&!e.interpolate[e.inside]?t=n.indexOf(r):(i=e.tags.map(function(e){return e.open}),i=i.concat(e.tags.map(function(e){return"\\"+e.open})),e.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(e.inAttribute?e.inAttribute:r),t=bf(n,i)),t?(-1===t&&(t=n.length),e.pos+=t,e.inside?n.substr(0,t):En(n.substr(0,t))):null}function Hn(e){return e.replace(Uf,"\\$&")}function Bn(e){var t=e.pos,n=e.standardDelimiters[0],i=e.standardDelimiters[1],r=void 0,o=void 0;if(!e.matchPattern(Vf)||!e.matchString(n))return e.pos=t,null;var s=e.matchPattern(Hf);if(g("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+s+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+s+"}} --> ... <!-- {{/"+s+"}} -->'"),!e.matchString(i)||!e.matchPattern(Bf))return e.pos=t,null;r=[];var a=new RegExp("^<!--\\s*"+jf(n)+"\\s*\\/\\s*"+s+"\\s*"+jf(i)+"\\s*-->");do e.matchPattern(a)?o=!0:(Tf=e.read(ep),Tf||e.error("expected closing comment ('<!-- "+n+"/"+s+i+" -->')"),r.push(Tf));while(!o);return{t:ah,f:r,n:s}}function qn(e){var t,n,i,r,o;t=e.pos;var s=e.standardDelimiters;if(!e.matchString(s[0]))return null;if(!e.matchPattern(Gf))return e.pos=t,null;n=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||e.error("expected legal partial name"),e.matchString(s[1])||e.error("Expected closing delimiter '"+s[1]+"'"),i=[];do(r=jd(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?("partial"===!r.r&&e.error("Expected "+s[0]+"/partial"+s[1]),o=!0):(r=e.read(ep),r||e.error("Expected "+s[0]+"/partial"+s[1]),i.push(r));while(!o);return{t:ah,n:n,f:i}}function Gn(e){for(var t=[],n=bu(null),i=!1,r=e.preserveWhitespace;e.pos<e.str.length;){var o=e.pos,s=void 0,a=void 0;(a=e.read(tp))?(n[a.n]&&(e.pos=o,e.error("Duplicated partial definition")),hf(a.f,e.stripComments,r,!r,!r),n[a.n]=a.f,i=!0):(s=e.read(ep))?t.push(s):e.error("Unexpected template content")}var u={v:su,t:t};return i&&(u.p=n),u}function Qn(e,t){return new Xf(e,t||{}).result}function Zn(e){var t=bu(sp);return t.parse=function(t,n){return Kn(t,n||e)},t}function Kn(e,t){if(!Zf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Zf(e,t||this.options)}function Jn(e,t){var n;if(!Xa){if(t&&t.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(Yn(e)&&(e=e.substring(1)),!(n=document.getElementById(e))){if(t&&t.noThrow)return;throw new Error("Could not find template element with id #"+e)}if("SCRIPT"!==n.tagName.toUpperCase()){if(t&&t.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Yn(e){return e&&"#"===e[0]}function Xn(e){return!("string"==typeof e)}function ei(e){return e.defaults&&(e=e.defaults),op.reduce(function(t,n){return t[n]=e[n],t},{})}function ti(e){var t,n=e._config.template;if(n&&n.fn)return t=ni(e,n.fn),t!==n.result?(n.result=t,t=ri(t,e)):void 0}function ni(e,t){var n=ii(ap.getParseOptions(e));return t.call(e,n)}function ii(e){var t=bu(ap);return t.parse=function(t,n){return ap.parse(t,n||e)},t}function ri(e,t){if("string"==typeof e)"#"===e[0]&&(e=ap.fromId(e)),e=Zf(e,ap.getParseOptions(t));else{if(void 0==e)throw new Error("The template cannot be "+e+".");if("number"!=typeof e.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(e.v!==su)throw new Error("Mismatched template version (expected "+su+", got "+e.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return e}function oi(e,t,n){if(t)for(var i in t)(n||!e.hasOwnProperty(i))&&(e[i]=t[i])}function si(e,t,n){if(!/_super/.test(n))return n;var i=function(){var e,r=ai(i._parent,t),o="_super"in this,s=this._super;return this._super=r,e=n.apply(this,arguments),o?this._super=s:delete this._super,e};return i._parent=e,i._method=n,i}function ai(e,t){var n,i;return t in e?(n=e[t],i="function"==typeof n?n:function(){return n}):i=Du,i}function ui(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function li(e,t,n){if(t in e){if(n in e)throw new Error(ui(t,n,!0));m(ui(t,n)),e[n]=e[t]}}function ci(e){li(e,"beforeInit","onconstruct"),li(e,"init","onrender"),li(e,"complete","oncomplete"),li(e,"eventDefinitions","events"),o(e.adaptors)&&li(e,"adaptors","adapt")}function hi(e,t,n,i){_p(i);for(var r in i)if(mp.hasOwnProperty(r)){var o=i[r];"el"!==r&&"function"==typeof o?m(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===e?n:null):n[r]=o}gp.forEach(function(r){r[e](t,n,i)}),Oc[e](t,n,i),lp[e](t,n,i),$c[e](t,n,i),di(t.prototype,n,i)}function di(e,t,n){for(var i in n)if(!pp[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=vp(e,i,r)),t[i]=r}}function fi(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function pi(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mi(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)}function gi(e){var t,n,i,r;if(this.items){for(n=this.items.length,t=0;n>t;t+=1)if(i=this.items[t],i.find&&(r=i.find(e)))return r;return null}}function vi(e,t){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(e,t);return t}function _i(e,t){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(e,t);return t}function yi(e){var t,n,i,r;if(this.items){for(t=this.items.length,n=0;t>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(e)))return r;return null}}function bi(e){var t,n=e.index;return t=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function wi(){return this.items&&this.items[0]?this.items[0].firstNode():null}function Pi(e,t,n,i){return i=i||0,e.map(function(e){var r,o,s;return e.text?e.text:e.fragments?e.fragments.map(function(e){return Pi(e.items,t,n,i)}).join(""):(r=n+"-"+i++,s=e.keypath&&(o=e.root.viewmodel.wrapped[e.keypath.str])?o.value:e.getValue(),t[r]=s,"${"+r+"}")}).join("")}function ki(){var e,t,n,i;return this.dirtyArgs&&(t=Ap(this.items,e={},this.root._guid),n=Ef("["+t+"]",e),i=n?n.value:[this.toString()],this.argsList=i,this.dirtyArgs=!1),this.argsList}function Ci(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el}function Ei(){var e,t,n,i;return this.dirtyValue&&(t=Ap(this.items,e={},this.root._guid),n=Ef(t,e),i=n?n.value:this.toString(),this.value=i,this.dirtyValue=!1),this.value}function xi(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Si(){return this.value}function Ai(e,t){for(var n,i=0;i<t.prop.length;i++)if(void 0!==(n=e[t.prop[i]]))return n}function Ii(e,t){var n,i,r,o,s,a={},u=!1;for(t||(a.refs=n={});e;){if((s=e.owner)&&(i=s.indexRefs)){if(t&&(r=s.getIndexRef(t)))return a.ref={fragment:e,ref:r},a;if(!t)for(o in i)r=i[o],n[r.n]||(u=!0,n[r.n]={fragment:e,ref:r})}!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?(a.componentBoundary=!0,e=e.owner.component.parentFragment):e=e.parent}return u?a:void 0}function Oi(e,t,n){var i;return"@"===t.charAt(0)?new Up(e,t,n):(i=Hp(e.parentFragment,t))?new Vp(e,i,n):new Rp(e,t,n)}function Di(e,t){var n,i;if(Qp[e])return Qp[e];for(i=[];t--;)i[t]="_"+t;return n=new Function(i.join(","),"return("+e+")"),Qp[e]=n,n}function Wi(e){return e.call()}function Li(e,t){return e.replace(/_([0-9]+)/g,function(e,n){var i,r;return+n>=t.length?"_"+n:(i=t[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str)})}function Ni(e){return C("${"+e.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Fi(e){return void 0!==e&&"@"!==e[0]}function Mi(e,t){var n,i,r;if(e.__ractive_nowrap)return e;if(i="__ractive_"+t._guid,n=e[i])return n;if(/this/.test(e.toString())){wu(e,i,{value:Zp.call(e,t),configurable:!0});for(r in e)e.hasOwnProperty(r)&&(e[i][r]=e[r]);return t._boundFunctions.push({fn:e,prop:i}),e[i]}return wu(e,"__ractive_nowrap",{value:e}),e.__ractive_nowrap}function Ti(e){return e.value}function Ri(e){return void 0!=e}function $i(e){e.forceResolution()}function ji(e,t){function n(t){e.resolve(t)}function i(t){var n=e.keypath;t!=n&&(e.resolve(t),void 0!==n&&e.fragments&&e.fragments.forEach(function(e){e.rebind(n,t)}))}var r,o,s;o=t.parentFragment,s=t.template,e.root=o.root,e.parentFragment=o,e.pElement=o.pElement,e.template=t.template,e.index=t.index||0,e.isStatic=t.template.s,e.type=t.template.t,e.registered=!1,(r=s.r)&&(e.resolver=qp(e,r,n)),t.template.x&&(e.resolver=new Kp(e,o,t.template.x,i)),t.template.rx&&(e.resolver=new em(e,t.template.rx,i)),e.template.n!==xh||e.hasOwnProperty("value")||e.setValue(void 0)}function Ui(e){var t,n,i;return e&&e.isSpecial?(this.keypath=e,void this.setValue(e.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,t=!0),this.keypath=e,void 0!=e&&(n=this.root.viewmodel.get(e),this.root.viewmodel.register(e,this),this.registered=!0),this.setValue(n),void(t&&(i=this.twowayBinding)&&i.rebound()))}function zi(e,t){this.fragments&&this.fragments.forEach(function(n){return n.rebind(e,t)}),this.resolver&&this.resolver.rebind(e,t)}function Vi(){this.parentFragment.bubble()}function Hi(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)}function Bi(e){var t,n,i;for(n=this.fragments.length,t=0;n>t;t+=1)if(i=this.fragments[t].find(e))return i;return null}function qi(e,t){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(e,t)}function Gi(e,t){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(e,t)}function Qi(e){var t,n,i;for(n=this.fragments.length,t=0;n>t;t+=1)if(i=this.fragments[t].findComponent(e))return i;return null}function Zi(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)}function Ki(){var e,t,n;if(e=this.fragments.length)for(t=0;e>t;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)}function Ji(e){var t,n,i,r,o,s,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Sh){if(this.shuffling=!0,ml.scheduleTask(function(){return u.shuffling=!1}),t=this.parentFragment,o=[],e.forEach(function(e,t){var i,r,s,a,l;return e===t?void(o[e]=u.fragments[t]):(i=u.fragments[t],void 0===n&&(n=t),-1===e?(u.fragmentsToUnrender.push(i),void i.unbind()):(r=e-t,s=u.keypath.join(t),a=u.keypath.join(e),i.index=e,(l=i.registeredIndexRefs)&&l.forEach(Yi),i.rebind(s,a),void(o[e]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&ml.addView(this),s={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=o[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function Yi(e){e.rebind("","")}function Xi(){var e=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(t){return e.docFrag.appendChild(t.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function er(e){var t,n,i=this;this.updating||(this.updating=!0,this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(e){var t;n.context=i.keypath.join(e),n.index=e,t=new _b(n),i.fragmentsToRender.push(i.fragments[e]=t)}),this.fragmentsToCreate.length=0):nr(this,e)&&(this.bubble(),this.rendered&&ml.addView(this)),this.value=e,this.updating=!1)}function tr(e,t,n){if(t===Sh&&e.indexRefs&&e.indexRefs[0]){var i=e.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(e.length=0,e.fragmentsToUnrender=e.fragments.slice(0),e.fragmentsToUnrender.forEach(function(e){return e.unbind()}))),i.t=n?"k":"i"}e.currentSubtype=t}function nr(e,t){var n={template:e.template.f||[],root:e.root,pElement:e.parentFragment.pElement,owner:e};if(e.hasContext=!0,e.subtype)switch(e.subtype){case Eh:return e.hasContext=!1,ar(e,t,!1,n);case xh:return e.hasContext=!1,ar(e,t,!0,n);case Ah:return sr(e,n);case Ih:return or(e,t,n);case Sh:if(l(t))return tr(e,e.subtype,!0),rr(e,t,n)}return e.ordered=!!s(t),e.ordered?(tr(e,Sh,!1),ir(e,t,n)):l(t)||"function"==typeof t?e.template.i?(tr(e,Sh,!0),rr(e,t,n)):(tr(e,Ah,!1),sr(e,n)):(tr(e,Eh,!1),e.hasContext=!1,ar(e,t,!1,n))}function ir(e,t,n){var i,r,o;if(r=t.length,r===e.length)return!1;if(r<e.length)e.fragmentsToUnrender=e.fragments.splice(r,e.length-r),e.fragmentsToUnrender.forEach(G);else if(r>e.length)for(i=e.length;r>i;i+=1)n.context=e.keypath.join(i),n.index=i,o=new _b(n),e.fragmentsToRender.push(e.fragments[i]=o);return e.length=r,!0}function rr(e,t,n){var i,r,o,s,a,u;for(o=e.hasKey||(e.hasKey={}),r=e.fragments.length;r--;)s=e.fragments[r],s.key in t||(a=!0,s.unbind(),e.fragmentsToUnrender.push(s),e.fragments.splice(r,1),o[s.key]=!1);for(r=e.fragments.length;r--;)s=e.fragments[r],s.index!==r&&(s.index=r,(u=s.registeredIndexRefs)&&u.forEach(cr));r=e.fragments.length;for(i in t)o[i]||(a=!0,n.context=e.keypath.join(i),n.key=i,n.index=r++,s=new _b(n),e.fragmentsToRender.push(s),e.fragments.push(s),o[i]=!0);return e.length=e.fragments.length,a}function or(e,t,n){return t?sr(e,n):ur(e)}function sr(e,t){var n;return e.length?void 0:(t.context=e.keypath,t.index=0,n=new _b(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0)}function ar(e,t,n,i){var r,o,a,u,c;if(o=s(t)&&0===t.length,a=!1,!s(t)&&l(t)){a=!0;for(c in t){a=!1;break}}return r=n?o||a||!t:t&&!o&&!a,r?e.length?e.length>1?(e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(G),!0):void 0:(i.index=0,u=new _b(i),e.fragmentsToRender.push(e.fragments[0]=u),e.length=1,!0):ur(e)}function ur(e){return e.length?(e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(lr),e.fragmentsToUnrender.forEach(G),e.length=e.fragmentsToRender.length=0,!0):void 0}function lr(e){return e.rendered}function cr(e){e.rebind("","")}function hr(e){var t,n,i;for(t="",n=0,i=this.length,n=0;i>n;n+=1)t+=this.fragments[n].toString(e);return t}function dr(){var e=this;this.fragments.forEach(G),this.fragmentsToRender.forEach(function(t){return M(e.fragments,t)}),this.fragmentsToRender=[],Fp.call(this),this.length=0,this.unbound=!0}function fr(e){this.fragments.forEach(e?pr:mr),this.renderedFragments=[],this.rendered=!1}function pr(e){e.unrender(!0)}function mr(e){e.unrender(!1)}function gr(){var e,t,n,i,r,o,s;for(n=this.renderedFragments;e=this.fragmentsToUnrender.pop();)e.unrender(!0),n.splice(n.indexOf(e),1);for(;e=this.fragmentsToRender.shift();)e.render();for(this.rendered&&(r=this.parentFragment.getNode()),s=this.fragments.length,o=0;s>o;o+=1)e=this.fragments[o],t=n.indexOf(e,o),t!==o?(this.docFrag.appendChild(e.detach()),-1!==t&&n.splice(t,1),n.splice(o,0,e)):this.docFrag.childNodes.length&&(i=e.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function vr(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}}function _r(e){var t,n,i,r;for(n=this.nodes.length,t=0;n>t;t+=1)if(i=this.nodes[t],1===i.nodeType){if(du(i,e))return i;if(r=i.querySelector(e))return r}return null}function yr(e,t){var n,i,r,o,s,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(du(r,e)&&t.push(r),o=r.querySelectorAll(e)))for(s=o.length,a=0;s>a;a+=1)t.push(o[a])}function br(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function wr(e){return Dm[e]||(Dm[e]=hu(e))}function Pr(e){var t,n,i;e&&"select"===e.name&&e.binding&&(t=T(e.node.options).filter(kr),e.getAttribute("multiple")?i=t.map(function(e){return e.value}):(n=t[0])&&(i=n.value),void 0!==i&&e.binding.setValue(i),e.bubble())}function kr(e){return e.selected}function Cr(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Wm(this.value,this.parentFragment.getNode(),this.docFrag),Lm(this.pElement),this.rendered=!0,this.docFrag}function Er(e){var t;(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&ml.addView(this))}function xr(){return void 0!=this.value?En(""+this.value):""}function Sr(e){this.rendered&&e&&(this.nodes.forEach(t),this.rendered=!1)}function Ar(){var e,t;if(this.rendered){for(;this.nodes&&this.nodes.length;)e=this.nodes.pop(),e.parentNode.removeChild(e);t=this.parentFragment.getNode(),this.nodes=Wm(this.value,t,this.docFrag),t.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Lm(this.pElement)}}function Ir(){var e,t=this.node;return t?((e=t.parentNode)&&e.removeChild(t),t):void 0}function Or(){return null}function Dr(){return this.node}function Wr(e){return this.attributes&&this.attributes[e]?this.attributes[e].value:void 0}function Lr(){var e=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(e,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=e,"value"===this.name&&this.node&&(this.node._ractive.value=e),this.rendered&&ml.addView(this))}function Nr(e){var t=e.fragment.items;if(1===t.length)return t[0].type===Qc?t[0]:void 0}function Fr(e){return this.type=ih,this.element=e.element,this.root=e.root,og(this,e.name),this.isBoolean=_d.test(this.name),e.value&&"string"!=typeof e.value?(this.parentFragment=this.element.parentFragment,this.fragment=new _b({template:e.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=sg(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:e.value||"")}function Mr(e,t){this.fragment&&this.fragment.rebind(e,t)}function Tr(e){var t;this.node=e,e.namespaceURI&&e.namespaceURI!==iu.html||(t=cg[this.name]||this.name,void 0!==e[t]&&(this.propertyName=t),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===t&&(e._ractive.value=this.value)),this.rendered=!0,this.update()}function Rr(){var e=this,t=e.name,n=e.namespacePrefix,i=e.value,r=e.interpolator,o=e.fragment;if(("value"!==t||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==t||void 0===this.element.getAttribute("contenteditable"))){if("name"===t&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return i?t:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";i=o.toString()}return n&&(t=n+":"+t),i?t+'="'+$r(i)+'"':t}}function $r(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function jr(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ur(){var e,t,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,e=this.node.options,i=e.length;i--;)if(t=e[i],n=t._ractive?t._ractive.value:t.value,n==r){t.selected=!0;break}}function zr(){var e,t,n,i,r=this.value;for(o(r)||(r=[r]),e=this.node.options,t=e.length;t--;)n=e[t],i=n._ractive?n._ractive.value:n.value,n.selected=W(r,i)}function Vr(){var e=this,t=e.node,n=e.value;t.checked=n==t._ractive.value}function Hr(){var e,t,n,i,r=this.node;if(e=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),e&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(t=n[i],!t.element.node)return;if(t.element.node.checked)return ml.addRactive(t.root),t.handleChange()}this.root.viewmodel.set(t.keypath,void 0)}}function Br(){var e,t,n=this,i=n.element,r=n.node,s=n.value,a=i.binding;if(e=i.getAttribute("value"),o(s)){for(t=s.length;t--;)if(e==s[t])return void(a.isChecked=r.checked=!0);a.isChecked=r.checked=!1}else a.isChecked=r.checked=s==e}function qr(){this.node.className=n(this.value)}function Gr(){var e=this,t=e.node,n=e.value;this.root.nodes[n]=t,t.id=n}function Qr(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)}function Zr(){var e=this.value;void 0===e&&(e=""),this.locked||(this.node.innerHTML=e)}function Kr(){var e=this,t=e.node,n=e.value;t._ractive.value=n,this.locked||(t.value=void 0==n?"":n)}function Jr(){this.locked||(this.node[this.propertyName]=this.value)}function Yr(){var e=this,t=e.node,n=e.namespace,i=e.name,r=e.value,o=e.fragment;n?t.setAttributeNS(n,i,(o||r).toString()):this.isBoolean?r?t.setAttribute(i,""):t.removeAttribute(i):null==r?t.removeAttribute(i):t.setAttribute(i,(o||r).toString())}function Xr(){var e,t,n=this,i=n.name,r=n.element,o=n.node;"id"===i?t=yg:"value"===i?"select"===r.name&&"value"===i?t=r.getAttribute("multiple")?pg:fg:"textarea"===r.name?t=Pg:null!=r.getAttribute("contenteditable")?t=wg:"input"===r.name&&(e=r.getAttribute("type"),t="file"===e?Du:"radio"===e&&r.binding&&"name"===r.binding.name?gg:Pg):this.isTwoway&&"name"===i?"radio"===o.type?t=mg:"checkbox"===o.type&&(t=vg):"style"===i&&o.style.setAttribute?t=bg:"class"!==i||o.namespaceURI&&o.namespaceURI!==iu.html?this.useProperty&&(t=kg):t=_g,t||(t=Cg),this.update=t,this.update()}function eo(e,t){var n=t?"svg":"div";return Sg.innerHTML="<"+n+" "+e+"></"+n+">",T(Sg.childNodes[0].attributes)}function to(e,t){for(var n=e.length;n--;)if(e[n].name===t.name)return!1;return!0}function no(e){for(;e=e.parent;)if("form"===e.name)return e}function io(){this._ractive.binding.handleChange()}function ro(){var e;Mg.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==e?"":e}function oo(){var e=this._ractive.binding,t=this;e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.rendered&&Mg.call(t),e._timeout=void 0},e.element.lazy)}function so(e,t,n){var i=e+t+n;return Ug[i]||(Ug[i]=[])}function ao(e){return e.isChecked}function uo(e){return e.element.getAttribute("value")}function lo(e){var t,n,i,r,o,s=e.attributes;return e.binding&&(e.binding.teardown(),e.binding=null),(e.getAttribute("contenteditable")||s.contenteditable&&co(s.contenteditable))&&co(s.value)?n=$g:"input"===e.name?(t=e.getAttribute("type"),"radio"===t||"checkbox"===t?(i=co(s.name),r=co(s.checked),i&&r&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:e.root}),i?n="radio"===t?Bg:Gg:r&&(n="radio"===t?Vg:Zg)):"file"===t&&co(s.value)?n=tv:co(s.value)&&(n="number"===t||"range"===t?nv:Tg)):"select"===e.name&&co(s.value)?n=e.getAttribute("multiple")?Xg:Jg:"textarea"===e.name&&co(s.value)&&(n=Tg),n&&(o=new n(e))&&o.keypath?o:void 0}function co(e){return e&&e.isBindable}function ho(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()}function fo(e){Ul(this.root,this.getAction(),{event:e})}function po(){return this.action.toString().trim()}function mo(e,t,n){var i,r,o,s=this;this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.name=t,-1!==t.indexOf("*")&&(h('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',e.name,t),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Gp(n.a.s,r.length),this.parentFragment=e.parentFragment,o=this.root,this.refResolvers=[],r.forEach(function(e,t){var n=void 0;(n=uv.exec(e))?s.keypaths[t]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:s.refResolvers.push(qp(s,e,function(e){return s.resolve(t,e)}))}),this.fire=go):(i=n.n||n,"string"!=typeof i&&(i=new _b({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new _b({template:n.d,root:this.root,owner:this.element}),this.fire=_o):n.a&&(this.params=n.a,this.fire=vo))}function go(e){var t,n,i;if(t=this.root,"function"!=typeof t[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,o;if(void 0===n)return void 0;if(n.eventObject){if(i=e,r=n.refinements.length)for(o=0;r>o;o+=1)i=i[n.refinements[o]]}else i=t.viewmodel.get(n);return i}),jl.enqueue(t,e),i=this.fn.apply(null,n),t[this.method].apply(t,i),jl.dequeue(t)}function vo(e){Ul(this.root,this.getAction(),{event:e,args:this.params})}function _o(e){var t=this.dynamicParams.getArgsList();"string"==typeof t&&(t=t.substr(1,t.length-2)),Ul(this.root,this.getAction(),{event:e,args:t})}function yo(e){var t,n,i,r={};t=this._ractive,n=t.events[e.type],(i=Hp(n.element.parentFragment))&&(r=Hp.resolve(i)),n.fire({node:this,original:e,index:r,keypath:t.keypath.str,context:t.root.viewmodel.get(t.keypath)})}function bo(){var e,t=this.name;if(!this.invalid){if(e=v("events",this.root,t))this.custom=e(this.node,wo(t));else{if(!("on"+t in this.node||window&&"on"+t in window||eu))return void(dv[t]||g(Fu(t,"event"),{node:this.node}));this.node.addEventListener(t,lv,!1)}this.hasListener=!0}}function wo(e){return hv[e]||(hv[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath.str,t.context=n.root.viewmodel.get(n.keypath),n.events[e].fire(t)}),hv[e]}function Po(e,t){function n(n){n&&n.rebind(e,t)}var i;return this.method?(i=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function ko(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Co(e,t){this.keypaths[e]=t}function Eo(){return this.method?void this.refResolvers.forEach(G):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function xo(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,lv,!1),this.hasListener=!1}function So(){var e=this;this.dirty||(this.dirty=!0,ml.scheduleTask(function(){Ao(e),e.dirty=!1})),this.parentFragment.bubble()}function Ao(e){var t,n,i,r,o;t=e.node,t&&(r=T(t.options),n=e.getAttribute("value"),i=e.getAttribute("multiple"),void 0!==n?(r.forEach(function(e){var t,r;t=e._ractive?e._ractive.value:e.value,r=i?Io(n,t):n==t,r&&(o=!0),e.selected=r}),o||(r[0]&&(r[0].selected=!0),e.binding&&e.binding.forceUpdate())):e.binding&&e.binding.forceUpdate())}function Io(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}function Oo(e,t){e.select=Wo(e.parent),e.select&&(e.select.options.push(e),t.a||(t.a={}),void 0!==t.a.value||t.a.hasOwnProperty("disabled")||(t.a.value=t.f),"selected"in t.a&&void 0!==e.select.getAttribute("value")&&delete t.a.selected)}function Do(e){e.select&&M(e.select.options,e)}function Wo(e){if(e)do if("select"===e.name)return e;while(e=e.parent)}function Lo(e){var t,n,i,r,o,s,a;this.type=Xc,t=this.parentFragment=e.parentFragment,n=this.template=e.template,this.parent=e.pElement||t.pElement,this.root=i=t.root,this.index=e.index,this.key=e.key,this.name=rg(n.e),"option"===this.name&&Oo(this,n),"select"===this.name&&(this.options=[],this.bubble=So),"form"===this.name&&(this.formBindings=[]),a=ng(this,n),this.attributes=Ig(this,n.a),this.conditionalAttributes=Wg(this,n.m),n.f&&(this.fragment=new _b({template:n.f,root:i,owner:this,pElement:this,cssIds:null})),s=i.twoway,a.twoway===!1?s=!1:a.twoway===!0&&(s=!0),this.twoway=s,this.lazy=a.lazy,s&&(r=iv(this,n.a))&&(this.binding=r,o=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),o.push(r)),n.v&&(this.eventHandlers=bv(this,n.v)),n.o&&(this.decorator=new Ev(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function No(e,t){function n(n){n.rebind(e,t)}var i,r,o,s;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),o=this.liveQueries)for(s=this.root,i=o.length;i--;)o[i]._makeDirty();this.node&&(r=this.node._ractive)&&P(r,"keypath",e,t)}function Fo(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),i=e.getAttribute("height");void 0!==n&&e.node.setAttribute("width",n),void 0!==i&&e.node.setAttribute("height",i),e.node.removeEventListener("load",t,!1)},!1)}function Mo(e){e.node.addEventListener("reset",Ro,!1)}function To(e){e.node.removeEventListener("reset",Ro,!1)}function Ro(){var e=this._ractive.proxy;ml.start(),e.formBindings.forEach($o),ml.end()}function $o(e){e.root.viewmodel.set(e.keypath,e.resetValue)}function jo(e,t,n){var i,r,o;this.element=e,this.root=i=e.root,this.isIntro=n,r=t.n||t,("string"==typeof r||(o=new _b({template:r,root:i,owner:e}),r=o.toString(),o.unbind(),""!==r))&&(this.name=r,t.a?this.params=t.a:t.d&&(o=new _b({template:t.d,root:i,owner:e}),this.params=o.getArgsList(),o.unbind()),this._fn=v("transitions",i,r),this._fn||g(Fu(r,"transition"),{ractive:this.root}))}function Uo(e){return e}function zo(){t_.hidden=document[Jv]}function Vo(){t_.hidden=!0}function Ho(){t_.hidden=!1}function Bo(){var e,t,n,i=this;return e=this.node=this.element.node,t=e.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&qo(e,t),e._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function qo(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}function Go(){var e,t,n,i=this,r=this.root;return e=Qo(this),t=this.node=hu(this.name,e),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(e){return"{"+e+"}"}).join(" ")),wu(this.node,"_ractive",{value:{proxy:this,keypath:al(this.parentFragment),events:bu(null),root:r}}),this.attributes.forEach(function(e){return e.render(t)}),this.conditionalAttributes.forEach(function(e){return e.render(t)}),this.fragment&&("script"===this.name?(this.bubble=d_,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Du):"style"===this.name?(this.bubble=h_,this.bubble(),this.fragment.unrender=Du):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Du:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),"option"===this.name&&Zo(this),"img"===this.name?Fo(this):"form"===this.name?Mo(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&ml.scheduleTask(function(){i.decorator.torndown||i.decorator.init()
},!0),r.transitionsEnabled&&this.intro&&(n=new f_(this,this.intro,!0),ml.registerTransition(n),ml.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&ml.scheduleTask(function(){return i.node.focus()},!0),Ko(this),this.node}function Qo(e){var t,n,i;return t=(n=e.getAttribute("xmlns"))?n:"svg"===e.name?iu.svg:(i=e.parent)?"foreignObject"===i.name?iu.html:i.node.namespaceURI:e.root.el.namespaceURI}function Zo(e){var t,n,i;if(e.select&&(n=e.select.getAttribute("value"),void 0!==n))if(t=e.getAttribute("value"),e.select.node.multiple&&o(n)){for(i=n.length;i--;)if(t==n[i]){e.node.selected=!0;break}}else e.node.selected=t==n}function Ko(e){var t,n,i,r,o;t=e.root;do for(n=t._liveQueries,i=n.length;i--;)r=n[i],o=n["_"+r],o._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(o);while(t=t.parent)}function Jo(e){var t,n,i;if(t=e.getAttribute("value"),void 0===t||!e.select)return!1;if(n=e.select.getAttribute("value"),n==t)return!0;if(e.select.getAttribute("multiple")&&o(n))for(i=n.length;i--;)if(n[i]==t)return!0}function Yo(e){var t,n,i,r;return t=e.attributes,n=t.type,i=t.value,r=t.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Xo(e){var t=e.toString();return t?" "+t:""}function es(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(G),"option"===this.name&&Do(this),this.attributes.forEach(G),this.conditionalAttributes.forEach(G)}function ts(e){var t,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():e&&ml.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(t=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[t.keypath.str],n.splice(n.indexOf(t),1)),this.eventHandlers&&this.eventHandlers.forEach(Q),this.decorator&&ml.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new f_(this,this.outro,!1),ml.registerTransition(i),ml.scheduleTask(function(){return i.start()})),this.liveQueries&&ns(this),"form"===this.name&&To(this)}function ns(e){var t,n,i;for(i=e.liveQueries.length;i--;)t=e.liveQueries[i],n=t.selector,t._remove(e.node)}function is(e,t){var n=w_.exec(t)[0];return null===e||n.length<e.length?n:e}function rs(e,t,n){var i;if(i=os(e,t,n||{}))return i;if(i=ap.fromId(t,{noThrow:!0})){i=P_(i);var r=ap.parse(i,ap.getParseOptions(e));return e.partials[t]=r.t}}function os(e,t,n){var i=void 0,r=us(t,n.owner);if(r)return r;var o=_("partials",e,t);if(o){if(r=o.partials[t],"function"==typeof r&&(i=r.bind(o),i.isOwner=o.partials.hasOwnProperty(t),r=i.call(e,ap)),!r&&""!==r)return void m(Nu,t,"partial","partial",{ractive:e});if(!ap.isParsed(r)){var s=ap.parse(r,ap.getParseOptions(o));s.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",t,{ractive:e});var a=i?o:ss(o,t);a.partials[t]=r=s.t}return i&&(r._fn=i),r.v?r.t:r}}function ss(e,t){return e.partials.hasOwnProperty(t)?e:as(e.constructor,t)}function as(e,t){return e?e.partials.hasOwnProperty(t)?e:as(e._Parent,t):void 0}function us(e,t){if(t){if(t.template&&t.template.p&&t.template.p[e])return t.template.p[e];if(t.parentFragment&&t.parentFragment.owner)return us(e,t.parentFragment.owner)}}function ls(e,t){var n,i=_("components",e,t);if(i&&(n=i.components[t],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(t),n=r(),!n)return void m(Nu,t,"component","component",{ractive:e});"string"==typeof n&&(n=ls(e,n)),n._fn=r,i.components[t]=n}return n}function cs(){var e=this.instance.fragment.detach();return L_.fire(this.instance),e}function hs(e){return this.instance.fragment.find(e)}function ds(e,t){return this.instance.fragment.findAll(e,t)}function fs(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)}function ps(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance}function ms(){return this.parentFragment.findNextNode(this)}function gs(){return this.rendered?this.instance.fragment.firstNode():null}function vs(e,t,n){function i(e){var n,i;e.value=t,e.updating||(i=e.ractive,n=e.keypath,e.updating=!0,ml.start(i),i.viewmodel.mark(n),ml.end(),e.updating=!1)}var r,o,s,a,u,l;if(r=e.obj,o=e.prop,n&&!n.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}n&&(s=n.get,a=n.set),u=s||function(){return t},l=function(e){a&&a(e),t=s?s():e,l._ractiveWrappers.forEach(i)},l._ractiveWrappers=[e],Object.defineProperty(r,o,{get:u,set:l,enumerable:!0,configurable:!0})}function _s(e,t){var n,i,r,o;if(this.adaptors)for(n=this.adaptors.length,i=0;n>i;i+=1)if(r=this.adaptors[i],r.filter(t,e,this.ractive))return o=this.wrapped[e]=r.wrap(this.ractive,t,e,bs(e)),void(o.value=t)}function ys(e,t){var n,i={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(i[t+n]=e[n]);return i}function bs(e){var t;return iy[e]||(t=e?e+".":"",iy[e]=function(n,i){var r;return"string"==typeof n?(r={},r[t+n]=i,r):"object"==typeof n?t?ys(n,e):n:void 0}),iy[e]}function ws(e){var t,n,i=[Gu];for(t=e.length;t--;)for(n=e[t].parent;n&&!n.isRoot;)-1===e.indexOf(n)&&D(i,n),n=n.parent;return i}function Ps(e,t,n){var i;Cs(e,t),n||(i=t.wildcardMatches(),i.forEach(function(n){ks(e,n,t)}))}function ks(e,t,n){var i,r,o;t=t.str||t,i=e.depsMap.patternObservers,r=i&&i[t],r&&r.forEach(function(t){o=n.join(t.lastKey),Cs(e,o),ks(e,t,o)})}function Cs(e,t){e.patternObservers.forEach(function(e){e.regex.test(t.str)&&e.update(t)})}function Es(){function e(e){var i=e.key;e.viewmodel===s?(s.clearCache(i.str),e.invalidate(),n.push(i),t(i)):e.viewmodel.mark(i)}function t(n){var i,r;s.noCascade.hasOwnProperty(n.str)||((r=s.deps.computed[n.str])&&r.forEach(e),(i=s.depsMap.computed[n.str])&&i.forEach(t))}var n,i,r,o=this,s=this,a={};return n=this.changes,n.length?(n.slice().forEach(t),i=ry(n),i.forEach(function(t){var i;-1===n.indexOf(t)&&(i=s.deps.computed[t.str])&&i.forEach(e)}),this.changes=[],this.patternObservers.length&&(i.forEach(function(e){return oy(o,e,!0)}),n.forEach(function(e){return oy(o,e)})),this.deps.observers&&(i.forEach(function(e){return xs(o,null,e,"observers")}),As(this,n,"observers")),this.deps["default"]&&(r=[],i.forEach(function(e){return xs(o,r,e,"default")}),r.length&&Ss(this,r,n),As(this,n,"default")),n.forEach(function(e){a[e.str]=o.get(e)}),this.implicitChanges={},this.noCascade={},a):void 0}function xs(e,t,n,i){var r,o;(r=Is(e,n,i))&&(o=e.get(n),r.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(o)}))}function Ss(e,t,n){t.forEach(function(t){for(var i=!1,r=0,o=n.length,s=[];o>r;){var a=n[r];if(a===t.keypath){i=!0;break}a.slice(0,t.keypath.length)===t.keypath&&s.push(a),r++}i&&t.setValue(e.get(t.keypath)),s.length&&t.refineValue(s)})}function As(e,t,n){function i(e){e.forEach(r),e.forEach(o)}function r(t){var i=Is(e,t,n);i&&a.push({keypath:t,deps:i})}function o(t){var r;(r=e.depsMap[n][t.str])&&i(r)}function s(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var a=[];i(t),a.forEach(s)}function Is(e,t,n){var i=e.deps[n];return i?i[t.str]:null}function Os(){this.captureGroups.push([])}function Ds(e,t){var n,i;if(t||(i=this.wrapped[e])&&i.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=void 0,n=this.cacheMap[e])for(;n.length;)this.clearCache(n.pop())}function Ws(e,t){var n=t.firstKey;return!(n in e.data||n in e.computations||n in e.mappings)}function Ls(e,t){var n=new dy(e,t);return this.ready&&n.init(this),this.computations[e.str]=n}function Ns(e,t){var n,i,r,o,s,a=this.cache,u=e.str;if(t=t||gy,t.capture&&(o=F(this.captureGroups))&&(~o.indexOf(e)||o.push(e)),Au.call(this.mappings,e.firstKey))return this.mappings[e.firstKey].get(e,t);if(e.isSpecial)return e.value;if(void 0===a[u]?((i=this.computations[u])&&!i.bypass?(n=i.get(),this.adapt(u,n)):(r=this.wrapped[u])?n=r.value:e.isRoot?(this.adapt("",this.data),n=this.data):n=Fs(this,e),a[u]=n):n=a[u],!t.noUnwrap&&(r=this.wrapped[u])&&(n=r.get()),e.isRoot&&t.fullRootGet)for(s in this.mappings)n[s]=this.mappings[s].getValue();return n===py?void 0:n}function Fs(e,t){var n,i,r,o;return n=e.get(t.parent),(o=e.wrapped[t.parent.str])&&(n=o.get()),null!==n&&void 0!==n?((i=e.cacheMap[t.parent.str])?-1===i.indexOf(t.str)&&i.push(t.str):e.cacheMap[t.parent.str]=[t.str],"object"!=typeof n||t.lastKey in n?(r=n[t.lastKey],e.adapt(t.str,r,!1),e.cache[t.str]=r,r):e.cache[t.str]=py):void 0}function Ms(){var e;for(e in this.computations)this.computations[e].init(this)}function Ts(e,t){var n=this.mappings[e.str]=new yy(e,t);return n.initViewmodel(this),n}function Rs(e,t){var n,i=e.str;t&&(t.implicit&&(this.implicitChanges[i]=!0),t.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(e)&&this.changes.push(e);var r=t?t.keepExistingWrapper:!1;this.clearCache(i,r),this.ready&&this.onchange()}function $s(e,t,n,i){var r,o,s,a;if(this.mark(e),i&&i.compare){s=Us(i.compare);try{r=t.map(s),o=n.map(s)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',e),r=t,o=n}}else r=t,o=n;a=wy(r,o),this.smartUpdate(e,n,a,t.length!==n.length)}function js(e){return JSON.stringify(e)}function Us(e){if(e===!0)return js;if("string"==typeof e)return ky[e]||(ky[e]=function(t){return t[e]}),ky[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function zs(e,t){var n,i,r,o=void 0===arguments[2]?"default":arguments[2];t.isStatic||((n=this.mappings[e.firstKey])?n.register(e,t,o):(i=this.deps[o]||(this.deps[o]={}),r=i[e.str]||(i[e.str]=[]),r.push(t),this.depsMap[o]||(this.depsMap[o]={}),e.isRoot||Vs(this,e,o)))}function Vs(e,t,n){for(var i,r,o;!t.isRoot;)i=e.depsMap[n],r=i[t.parent.str]||(i[t.parent.str]=[]),o=t.str,void 0===r["_"+o]&&(r["_"+o]=0,r.push(t)),r["_"+o]+=1,t=t.parent}function Hs(){return this.captureGroups.pop()}function Bs(e){this.data=e,this.clearCache("")}function qs(e,t){var n,i,r,o,s=void 0===arguments[2]?{}:arguments[2];if(!s.noMapping&&(n=this.mappings[e.firstKey]))return n.set(e,t);if(i=this.computations[e.str]){if(i.setting)return;i.set(t),t=i.get()}a(this.cache[e.str],t)||(r=this.wrapped[e.str],r&&r.reset&&(o=r.reset(t)!==!1,o&&(t=r.get())),i||o||Gs(this,e,t),s.silent?this.clearCache(e.str):this.mark(e))}function Gs(e,t,n){var i,r,o,s;o=function(){i.set?i.set(t.lastKey,n):(r=i.get(),s())},s=function(){r||(r=J_(t.lastKey),e.set(t.parent,r,{silent:!0})),r[t.lastKey]=n},i=e.wrapped[t.parent.str],i?o():(r=e.get(t.parent),(i=e.wrapped[t.parent.str])?o():s())}function Qs(e,t,n){var i,r,o,s=this;if(r=n.length,n.forEach(function(t,n){-1===t&&s.mark(e.join(n),Oy)}),this.set(e,t,{silent:!0}),(i=this.deps["default"][e.str])&&i.filter(Zs).forEach(function(e){return e.shuffle(n,t)}),r!==t.length){for(this.mark(e.join("length"),Iy),o=n.touchedFrom;o<t.length;o+=1)this.mark(e.join(o));for(o=t.length;r>o;o+=1)this.mark(e.join(o),Oy)}}function Zs(e){return"function"==typeof e.shuffle}function Ks(){var e,t=this;for(Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});e=this.unresolvedImplicitDependencies.pop();)e.teardown()}function Js(e,t){var n,i,r,o=void 0===arguments[2]?"default":arguments[2];if(!t.isStatic){if(n=this.mappings[e.firstKey])return n.unregister(e,t,o);if(i=this.deps[o][e.str],r=i.indexOf(t),-1===r)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),e.isRoot||Ys(this,e,o)}}function Ys(e,t,n){for(var i,r;!t.isRoot;)i=e.depsMap[n],r=i[t.parent.str],r["_"+t.str]-=1,r["_"+t.str]||(M(r,t),r["_"+t.str]=void 0),t=t.parent}function Xs(e){this.hook=new nl(e),this.inProcess={},this.queue={}}function ea(e,t){return e[t._guid]||(e[t._guid]=[])}function ta(e,t){var n=ea(e.queue,t);for(e.hook.fire(t);n.length;)ta(e,n.shift());delete e.queue[t._guid]}function na(e,t){var n,i={};for(n in t)i[n]=ia(e,n,t[n]);return i}function ia(e,t,n){var i,r;return"function"==typeof n&&(i=oa(n,e)),"string"==typeof n&&(i=ra(e,n)),"object"==typeof n&&("string"==typeof n.get?i=ra(e,n.get):"function"==typeof n.get?i=oa(n.get,e):h("`%s` computation must have a `get()` method",t),"function"==typeof n.set&&(r=oa(n.set,e))),{getter:i,setter:r}}function ra(e,t){var n,i,r;return n="return ("+t.replace(Ty,function(e,t){return i=!0,'__ractive.get("'+t+'")'})+");",i&&(n="var __ractive = this; "+n),r=new Function(n),i?r.bind(e):r}function oa(e,t){return/this/.test(e.toString())?e.bind(t):e}function sa(t){var n,r,o=void 0===arguments[1]?{}:arguments[1],s=void 0===arguments[2]?{}:arguments[2];if(qb.DEBUG&&Su(),la(t,s),wu(t,"data",{get:ca}),Ry.fire(t,o),zy.forEach(function(e){t[e]=i(bu(t.constructor[e]||null),o[e])}),r=new Ny({adapt:aa(t,t.adapt,o),data:Uc.init(t.constructor,t,o),computed:My(t,i(bu(t.constructor.prototype.computed),o.computed)),mappings:s.mappings,ractive:t,onchange:function(){return ml.addRactive(t)}}),t.viewmodel=r,r.init(),yp.init(t.constructor,t,o),$y.fire(t),jy.begin(t),t.template){var a=void 0;(s.cssIds||t.cssId)&&(a=s.cssIds?s.cssIds.slice():[],t.cssId&&a.push(t.cssId)),t.fragment=new _b({template:t.template,root:t,owner:t,cssIds:a})}if(jy.end(t),n=e(t.el)){var u=t.render(n,t.append);qb.DEBUG_PROMISES&&u["catch"](function(e){throw g("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:t}),e.stack&&d(e.stack),e})}}function aa(e,t,n){function i(t){return"string"==typeof t&&(t=v("adaptors",e,t),t||h(Fu(t,"adaptor"))),t}var r,o,s;if(t=t.map(i),r=N(n.adapt).map(i),r=ua(t,r),o="magic"in n?n.magic:e.magic,s="modifyArrays"in n?n.modifyArrays:e.modifyArrays,o){if(!nu)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&r.push(ty),r.push(ey)}return s&&r.push(Z_),r}function ua(e,t){for(var n=e.slice(),i=t.length;i--;)~n.indexOf(t[i])||n.push(t[i]);return n}function la(e,t){e._guid="r-"+Uy++,e._subs=bu(null),e._config={},e._twowayBindings=bu(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],e._boundFunctions=[],e._observers=[],t.component?(e.parent=t.parent,e.container=t.container||null,e.root=e.parent.root,e.component=t.component,t.component.instance=e,e._inlinePartials=t.inlinePartials):(e.root=e,e.parent=e.container=null)}function ca(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ha(e,t,n){this.parentFragment=e.parentFragment,this.callback=n,this.fragment=new _b({template:t,root:e.root,owner:this}),this.update()}function da(e,t,n){var i;return t.r?i=qp(e,t.r,n):t.x?i=new Kp(e,e.parentFragment,t.x,n):t.rx&&(i=new em(e,t.rx,n)),i}function fa(e){return 1===e.length&&e[0].t===Qc}function pa(e,t){var n;for(n in t)t.hasOwnProperty(n)&&ma(e.instance,e.root,n,t[n])}function ma(e,t,n,i){"string"!=typeof i&&h("Components currently only support simple events - you cannot include arguments. Sorry!"),e.on(n,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Ul(t,i,{event:e,args:n}),!1})}function ga(e,t){var n,i;if(!t)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=e.parentFragment,i=n.root,this.root=i,this.type=oh,this.name=e.template.e,this.index=e.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],By(this,t,e.template.a,e.template.f,e.template.p),qy(this,e.template.v),(e.template.t0||e.template.t1||e.template.t2||e.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Gy(this)}function va(e,t){function n(n){n.rebind(e,t)}var i;this.resolvers.forEach(n);for(var r in this.yielders)this.yielders[r][0]&&n(this.yielders[r][0]);(i=this.root._liveComponentQueries["_"+this.name])&&i._makeDirty()}function _a(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()}function ya(){return this.instance.fragment.toString()}function ba(){var e=this.instance;this.resolvers.forEach(G),wa(this),e._observers.forEach(Z),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&M(e.el.__ractive_instances__,e),Xy.fire(e)}function wa(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t.parent)}function Pa(e){this.shouldDestroy=e,this.instance.unrender()}function ka(e){var t=this;this.owner=e.owner,this.parent=this.owner.parentFragment,this.root=e.root,this.pElement=e.pElement,this.context=e.context,this.index=e.index,this.key=e.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in e?e.cssIds:this.parent?this.parent.cssIds:null,this.items=e.template.map(function(n,i){return Ca({parentFragment:t,pElement:e.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Ca(e){if("string"==typeof e.template)return new Np(e);switch(e.template.t){case sh:return new sb(e);case Qc:return new sm(e);case Kc:return new xm(e);case Zc:return new Hm(e);case Xc:var t=void 0;return(t=D_(e.parentFragment.root,e.template.e))?new nb(e,t):new y_(e);case eh:return new O_(e);case th:return new rb(e);case uh:return new ub(e);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ea(e,t){(!this.owner||this.owner.hasContext)&&P(this,"context",e,t),this.items.forEach(function(n){n.rebind&&n.rebind(e,t)})}function xa(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e}function Sa(e){return this.items?this.items.map(e?Ia:Aa).join(""):""}function Aa(e){return e.toString()}function Ia(e){return e.toString(!0)}function Oa(){this.bound&&(this.items.forEach(Da),this.bound=!1)}function Da(e){e.unbind&&e.unbind()}function Wa(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1}function La(e){var t,n,i,r,o;if(e=e||{},"object"!=typeof e)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(e)===!1&&this.viewmodel.reset(e):this.viewmodel.reset(e),i=yp.reset(this),r=i.length;r--;)if(bb.indexOf(i[r])>-1){o=!0;break}if(o){var s=void 0;this.viewmodel.mark(Gu),(s=this.component)&&(s.shouldDestroy=!0),this.unrender(),s&&(s.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new _b({template:this.template,root:this,owner:this})),t=this.render(this.el,this.anchor)}else t=ml.start(this,!0),this.viewmodel.mark(Gu),ml.end();return wb.fire(this,e),t}function Na(e){var t,n;lp.init(null,this,{template:e}),t=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new _b({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=t}function Fa(e,t){var n,i;if(i=ml.start(this,!0),l(e)){n=e;for(e in n)n.hasOwnProperty(e)&&(t=n[e],Ma(this,e,t))}else Ma(this,e,t);return ml.end(),i}function Ma(e,t,n){t=C(S(t)),t.isPattern?E(e,t).forEach(function(t){e.viewmodel.set(t,n)}):e.viewmodel.set(t,n)}function Ta(e,t){return Qu(this,e,void 0===t?-1:-t)}function Ra(){var e;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(Z),this.fragment.rendered&&this.el.__ractive_instances__&&M(this.el.__ractive_instances__,this),this.shouldDestroy=!0,e=this.fragment.rendered?this.unrender():sl.resolve(),Db.fire(this),this._boundFunctions.forEach($a),e}function $a(e){delete e.fn[e.prop]}function ja(e){var t=this;if("string"!=typeof e)throw new TypeError(Lu);var n=void 0;return/\*/.test(e)?(n={},E(this,C(S(e))).forEach(function(e){n[e.str]=!t.viewmodel.get(e)}),this.set(n)):this.set(e,!this.get(e))}function Ua(){return this.fragment.toString(!0)}function za(){var e,t;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),sl.resolve();for(e=ml.start(this,!0),t=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(t),M(this.el.__ractive_instances__,this),Fb.fire(this),ml.end(),e}function Va(e){var t;return e=C(e)||Gu,t=ml.start(this,!0),this.viewmodel.mark(e),ml.end(),Rb.fire(this,e),t}function Ha(e,t){var n,i,r;if("string"!=typeof e||t){r=[];for(i in this._twowayBindings)(!e||C(i).equalsOrStartsWith(e))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[e];return n=Ba(this,r),this.set(n)}function Ba(e,t){var n={},i=[];return t.forEach(function(e){var t,r;if(!e.radioName||e.element.node.checked){if(e.checkboxName)return void(i[e.keypath.str]||e.changed()||(i.push(e.keypath),i[e.keypath.str]=e));t=e.attribute.value,r=e.getValue(),L(t,r)||a(t,r)||(n[e.keypath.str]=r)}}),i.length&&i.forEach(function(e){var t,r,o;t=i[e.str],r=t.attribute.value,o=t.getValue(),L(r,o)||(n[e.str]=o)}),n}function qa(e,t){return"function"==typeof t&&/_super/.test(e)}function Ga(e){for(var t={};e;)Qa(e,t),Ka(e,t),e=e._Parent!==qb?e._Parent:!1;return t}function Qa(e,t){gp.forEach(function(n){Za(n.useDefaults?e.prototype:e,t,n.name)})}function Za(e,t,n){var i,r=Object.keys(e[n]);r.length&&((i=t[n])||(i=t[n]={}),r.filter(function(e){return!(e in i)}).forEach(function(t){return i[t]=e[n][t]}))}function Ka(e,t){Object.keys(e.prototype).forEach(function(n){if("computed"!==n){var i=e.prototype[n];if(n in t){if("function"==typeof t[n]&&"function"==typeof i&&t[n]._method){var r=void 0,o=i._method;o&&(i=i._method),r=Ub(t[n]._method,i),o&&(r._method=r),t[n]=r}}else t[n]=i._method?i._method:i}})}function Ja(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.length?t.reduce(Ya,this):Ya(this)}function Ya(e){var t,n,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof qb&&(r=zb(r)),t=function(e){return this instanceof t?void Vy(this,e):new t(e)},n=bu(e.prototype),n.constructor=t,Pu(t,{defaults:{value:n},extend:{value:Ja,writable:!0,configurable:!0},_Parent:{value:e}}),yp.extend(e,n,r),Uc.extend(e,n,r),r.computed&&(n.computed=i(bu(e.prototype.computed),r.computed)),t.prototype=n,t}var Xa,eu,tu,nu,iu,ru,ou,su=3,au={el:void 0,append:!1,template:{v:su,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},uu=au,lu={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}};Xa="object"==typeof document,eu="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),tu="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),nu=!0}catch(cu){nu=!1}iu={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ru="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),ou=["o","ms","moz","webkit"];var hu,du,fu,pu,mu,gu,vu,_u,yu;if(hu=ru?function(e,t){return t&&t!==iu.html?document.createElementNS(t,e):document.createElement(e)}:function(e,t){if(t&&t!==iu.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)},Xa){for(fu=hu("div"),pu=["matches","matchesSelector"],yu=function(e){return function(t,n){return t[e](n)}},vu=pu.length;vu--&&!du;)if(mu=pu[vu],fu[mu])du=yu(mu);else for(_u=ou.length;_u--;)if(gu=ou[vu]+mu.substr(0,1).toUpperCase()+mu.substring(1),fu[gu]){du=yu(gu);break}du||(du=function(e,t){var n,i,r;for(i=e.parentNode,i||(fu.innerHTML="",i=fu,e=e.cloneNode(),fu.appendChild(e)),n=i.querySelectorAll(t),r=n.length;r--;)if(n[r]===e)return!0;return!1})}else du=null;var bu,wu,Pu,ku=null;try{Object.defineProperty({},"test",{value:0}),Xa&&Object.defineProperty(document.createElement("div"),"test",{value:0}),wu=Object.defineProperty}catch(Cu){wu=function(e,t,n){e[t]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Cu){throw Cu}Xa&&Object.defineProperties(hu("div"),{test:{value:0}}),Pu=Object.defineProperties}catch(Cu){Pu=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&wu(e,n,t[n])}}try{Object.create(null),bu=Object.create}catch(Cu){bu=function(){var e=function(){};return function(t,n){var i;return null===t?{}:(e.prototype=t,i=new e,n&&Object.defineProperties(i,n),i)}}()}var Eu,xu,Su,Au=Object.prototype.hasOwnProperty,Iu=Object.prototype.toString,Ou=/^\[object (?:Array|FileList)\]$/,Du=function(){},Wu={};tu?!function(){var e=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"];Su=function(){var t=!!console.groupCollapsed;console[t?"groupCollapsed":"log"].apply(console,e),Su=Du},xu=function(e,t){if(Su(),"object"==typeof t[t.length-1]){var n=t.pop(),i=n?n.ractive:null;if(i){var r=void 0;i.component&&(r=i.component.name)&&(e="<"+r+"> "+e);var o=void 0;(o=n.node||i.fragment&&i.fragment.rendered&&i.find("*"))&&t.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(t))},Eu=function(){console.log.apply(console,arguments)}}():xu=Eu=Su=Du;var Lu="Bad arguments",Nu='A function was specified for "%s" %s, but no %s was returned',Fu=function(e,t){return'Missing "'+e+'" '+t+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+t+"s"},Mu=function(e,t,n,i){if(e===t)return y(t);if(i){var r=v("interpolators",n,i);if(r)return r(e,t)||y(t);h(Fu(i,"interpolator"))}return $u.number(e,t)||$u.array(e,t)||$u.object(e,t)||y(t)},Tu=Mu,Ru={number:function(e,t){var n;return u(e)&&u(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var n,i,r,s;if(!o(e)||!o(t))return null;for(n=[],i=[],s=r=Math.min(e.length,t.length);s--;)i[s]=Tu(e[s],t[s]);for(s=r;s<e.length;s+=1)n[s]=e[s];for(s=r;s<t.length;s+=1)n[s]=t[s];return function(e){for(var t=r;t--;)n[t]=i[t](e);return n}},object:function(e,t){var n,i,r,o,s;if(!l(e)||!l(t))return null;n=[],o={},r={};for(s in e)Au.call(e,s)&&(Au.call(t,s)?(n.push(s),r[s]=Tu(e[s],t[s])):o[s]=e[s]);for(s in t)Au.call(t,s)&&!Au.call(e,s)&&(o[s]=t[s]);return i=n.length,function(e){for(var t,s=i;s--;)t=n[s],o[t]=r[t](e);return o}}},$u=Ru,ju=b,Uu={},zu=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Vu=/\*/,Hu={},Bu=function(e){var t=e.split(".");this.str=e,"@"===e[0]&&(this.isSpecial=!0,this.value=k(e)),this.firstKey=t[0],this.lastKey=t.pop(),this.isPattern=Vu.test(e),this.parent=""===e?null:C(t.join(".")),this.isRoot=!e};Bu.prototype={equalsOrStartsWith:function(e){return e===this||this.startsWith(e)},join:function(e){return C(this.isRoot?String(e):this.str+"."+e)},replace:function(e,t){return this===e?t:this.startsWith(e)?null===t?t:C(this.str.replace(e.str+".",t.str+".")):void 0},startsWith:function(e){return e?e&&this.str.substr(0,e.str.length+1)===e.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=ju(this.str))}};var qu,Gu=C(""),Qu=A,Zu="Cannot add to a non-numeric value",Ku=I;"undefined"==typeof window?qu=null:(!function(e,t,n){var i,r;if(!n.requestAnimationFrame){for(i=0;i<e.length&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[e[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(e){var n,i,o;return n=Date.now(),i=Math.max(0,16-(n-t)),o=r(function(){e(n+i)},i),t=n+i,o})}}(ou,0,window),qu=window.requestAnimationFrame);var Ju,Yu=qu;Ju="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Xu=Ju,el={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};O.prototype.fire=function(e,t){function n(n){return e[n]?(t?e[n](t):e[n](),!0):void 0}n(this.method),!e[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),t?e.fire(this.event,t):e.fire(this.event)};var tl,nl=O,il={},rl={},ol={};"function"==typeof Promise?tl=Promise:(tl=function(e){var t,n,i,r,o,s,a=[],u=[],l=il;i=function(e){return function(i){l===il&&(t=i,l=e,n=$(l===rl?a:u,t),R(n))}},r=i(rl),o=i(ol);try{e(r,o)}catch(c){o(c)}return s={then:function(e,t){var i=new tl(function(r,o){var s=function(e,t,n){t.push("function"==typeof e?function(t){var n;try{n=e(t),j(i,n,r,o)}catch(s){o(s)}}:n)};s(e,a,r),s(t,u,o),l!==il&&R(n)});return i}},s["catch"]=function(e){return this.then(null,e)},s},tl.all=function(e){return new tl(function(t,n){var i,r,o,s=[];if(!e.length)return void t(s);for(o=function(e,r){e&&"function"==typeof e.then?e.then(function(e){s[r]=e,--i||t(s)},n):(s[r]=e,--i||t(s))},i=r=e.length;r--;)o(e[r],r)})},tl.resolve=function(e){return new tl(function(t){t(e)})},tl.reject=function(e){return new tl(function(t,n){n(e)})});var sl=tl,al=function(e){do if(void 0!==e.context)return e.context;while(e=e.parent);return Gu},ul=U,ll=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};ll.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Y(this)},decrementTotal:function(){this.totalChildren-=1,Y(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},addDecorator:function(e){this.decoratorQueue.push(e)},remove:function(e){var t=e.isIntro?this.intros:this.outros;M(t,e),Y(this)},init:function(){this.ready=!0,Y(this)},detachNodes:function(){this.decoratorQueue.forEach(q),this.detachQueue.forEach(K),this.children.forEach(J)}};var cl,hl,dl=ll,fl=[],pl=new nl("change");hl={start:function(e,t){var n,i;return t&&(n=new sl(function(e){return i=e})),cl={previousBatch:cl,transitionManager:new dl(i,cl&&cl.transitionManager),views:[],tasks:[],ractives:[],instance:e},e&&cl.ractives.push(e),n
},end:function(){X(),cl.transitionManager.init(),!cl.previousBatch&&cl.instance&&(cl.instance.viewmodel.changes=[]),cl=cl.previousBatch},addRactive:function(e){cl&&D(cl.ractives,e)},registerTransition:function(e){e._manager=cl.transitionManager,cl.transitionManager.add(e)},registerDecorator:function(e){cl.transitionManager.addDecorator(e)},addView:function(e){cl.views.push(e)},addUnresolved:function(e){fl.push(e)},removeUnresolved:function(e){M(fl,e)},detachWhenReady:function(e){cl.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(cl){for(n=cl;t&&n.previousBatch;)n=n.previousBatch;n.tasks.push(e)}else e()}};var ml=hl,gl=[],vl={tick:function(){var e,t,n;for(n=Xu(),ml.start(),e=0;e<gl.length;e+=1)t=gl[e],t.tick(n)||gl.splice(e--,1);ml.end(),gl.length?Yu(vl.tick):vl.running=!1},add:function(e){gl.push(e),vl.running||(vl.running=!0,Yu(vl.tick))},abort:function(e,t){for(var n,i=gl.length;i--;)n=gl[i],n.root===t&&n.keypath===e&&n.stop()}},_l=vl,yl=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=Tu(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};yl.prototype={tick:function(){var e,t,n,i,r,o;return o=this.keypath,this.running?(i=Date.now(),e=i-this.startTime,e>=this.duration?(null!==o&&(ml.start(this.root),this.root.viewmodel.set(o,this.to),ml.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&m("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(t=this.easing?this.easing(e/this.duration):e/this.duration,null!==o&&(n=this.interpolator(t),ml.start(this.root),this.root.viewmodel.set(o,n),ml.end()),this.step&&this.step(t,n),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),-1===e&&m("Animation was not found"),this.root._animations.splice(e,1)}};var bl=yl,wl=nt,Pl={stop:Du},kl=rt,Cl=new nl("detach"),El=ot,xl=st,Sl=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),-1!==n&&(e.splice(n,1),e[t]=null)},Al=function(e,t){var n,i,r,o,s,a,u,l,c,h;for(n=ut(e.component||e._ractive.proxy),i=ut(t.component||t._ractive.proxy),r=F(n),o=F(i);r&&r===o;)n.pop(),i.pop(),s=r,r=F(n),o=F(i);if(r=r.component||r,o=o.component||o,c=r.parentFragment,h=o.parentFragment,c===h)return a=c.items.indexOf(r),u=h.items.indexOf(o),a-u||n.length-i.length;if(l=s.fragments)return a=l.indexOf(c),u=l.indexOf(h),a-u||n.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Il=function(e,t){var n;return e.compareDocumentPosition?(n=e.compareDocumentPosition(t),2&n?1:-1):Al(e,t)},Ol=function(){this.sort(this._isComponentQuery?Al:Il),this._dirty=!1},Dl=function(){var e=this;this._dirty||(this._dirty=!0,ml.scheduleTask(function(){e._sort()}))},Wl=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);-1!==t&&this.splice(t,1)},Ll=lt,Nl=ct,Fl=ht,Ml=dt,Tl=ft,Rl=pt,$l={enqueue:function(e,t){e.event&&(e._eventQueue=e._eventQueue||[],e._eventQueue.push(e.event)),e.event=t},dequeue:function(e){e._eventQueue&&e._eventQueue.length?e.event=e._eventQueue.pop():delete e.event}},jl=$l,Ul=mt,zl=_t,Vl=yt,Hl={capture:!0,noUnwrap:!0,fullRootGet:!0},Bl=bt,ql=new nl("insert"),Gl=Pt,Ql=function(e,t,n,i){this.root=e,this.keypath=t,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:e};Ql.prototype={init:function(e){this.value=this.root.get(this.keypath.str),e!==!1?this.update():this.oldValue=this.value},setValue:function(e){var t=this;a(e,this.value)||(this.value=e,this.defer&&this.ready?ml.scheduleTask(function(){return t.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Zl,Kl=Ql,Jl=kt,Yl=Array.prototype.slice;Zl=function(e,t,n,i){this.root=e,this.callback=n,this.defer=i.defer,this.keypath=t,this.regex=new RegExp("^"+t.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:e},Zl.prototype={init:function(e){var t,n;if(t=Jl(this.root,this.keypath),e!==!1)for(n in t)t.hasOwnProperty(n)&&this.update(C(n));else this.values=t},update:function(e){var t,n=this;if(e.isPattern){t=Jl(this.root,e);for(e in t)t.hasOwnProperty(e)&&this.update(C(e))}else if(!this.root.viewmodel.implicitChanges[e.str])return this.defer&&this.ready?void ml.scheduleTask(function(){return n.getProxy(e).update()}):void this.reallyUpdate(e)},reallyUpdate:function(e){var t,n,i,r;return t=e.str,n=this.root.viewmodel.get(e),this.updating?void(this.values[t]=n):(this.updating=!0,a(n,this.values[t])&&this.ready||(i=Yl.call(this.regex.exec(t),1),r=[n,this.values[t],t].concat(i),this.values[t]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(e){var t=this;return this.proxies[e.str]||(this.proxies[e.str]={update:function(){return t.reallyUpdate(e)}}),this.proxies[e.str]}};var Xl,ec,tc,nc,ic,rc,oc=Zl,sc=Ct,ac={},uc=Et,lc=xt,cc=function(e){return e.trim()},hc=function(e){return""!==e},dc=St,fc=At,pc=It,mc=Ot,gc=Array.prototype,vc=function(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var s,a,u,l,c=[];if(t=C(S(t)),s=this.viewmodel.get(t),a=s.length,!o(s))throw new Error("Called ractive."+e+"('"+t.str+"'), but '"+t.str+"' does not refer to an array");return c=mc(s,e,i),l=gc[e].apply(s,i),u=ml.start(this,!0).then(function(){return l}),c?this.viewmodel.smartUpdate(t,s,c):this.viewmodel.mark(t),ml.end(),u}},_c=vc("pop"),yc=vc("push"),bc="/* Ractive.js component styles */\n",wc=[],Pc=!1;Xa?(tc=document.createElement("style"),tc.type="text/css",nc=document.getElementsByTagName("head")[0],rc=!1,ic=tc.styleSheet,ec=function(){var e=bc+wc.map(function(e){return"\n/* {"+e.id+"} */\n"+e.styles}).join("\n");ic?ic.cssText=e:tc.innerHTML=e,rc||(nc.appendChild(tc),rc=!0)},Xl={add:function(e){wc.push(e),Pc=!0},apply:function(){Pc&&(ec(),Pc=!1)}}):Xl={add:Du,apply:Du};var kc,Cc,Ec=Xl,xc=Wt,Sc=new nl("render"),Ac=new nl("complete"),Ic={extend:function(e,t,n){t.adapt=Nt(t.adapt,N(n.adapt))},init:function(){}},Oc=Ic,Dc=Ft,Wc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Lc=/\/\*.*?\*\//g,Nc=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Fc=/^@media/,Mc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Tc=1,Rc={name:"css",extend:function(e,t,n){if(n.css){var i=Tc++,r=n.noCssTransform?n.css:Dc(n.css,i);t.cssId=i,Ec.add({id:i,styles:r})}},init:function(){}},$c=Rc,jc={name:"data",extend:function(e,t,n){var i=void 0,r=void 0;if(n.data&&l(n.data))for(i in n.data)r=n.data[i],r&&"object"==typeof r&&(l(r)||o(r))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");t.data=$t(t.data,n.data)},init:function(e,t,n){var i=$t(e.prototype.data,n.data);return"function"==typeof i&&(i=i.call(t)),i||{}},reset:function(e){var t=this.init(e.constructor,e,e.viewmodel);return e.viewmodel.reset(t),!0}},Uc=jc,zc=/^\s+/;Cc=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},Cc.prototype=Error.prototype,kc=function(e,t){var n,i,r=0;for(this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=r+e.length+1;return r=t,t},0),this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},kc.prototype={read:function(e){var t,n,i,r;for(e||(e=this.converters),t=this.pos,i=e.length,n=0;i>n;n+=1)if(this.pos=t,r=e[n](this))return r;return null},getLinePos:function(e){for(var t,n=0,i=0;e>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return t=e-i,[n+1,t+1,e]},error:function(e){var t=this.getLinePos(this.pos),n=t[0],i=t[1],r=this.lines[t[0]-1],o=0,s=r.replace(/\t/g,function(e,n){return n<t[1]&&(o+=1),"  "})+"\n"+new Array(t[1]+o).join(" ")+"^----",a=new Cc(""+e+" at line "+n+" character "+i+":\n"+s);throw a.line=t[0],a.character=t[1],a.shortMessage=e,a},matchString:function(e){return this.str.substr(this.pos,e.length)===e?(this.pos+=e.length,e):void 0},matchPattern:function(e){var t;return(t=e.exec(this.remaining()))?(this.pos+=t[0].length,t[1]||t[0]):void 0},allowWhitespace:function(){this.matchPattern(zc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},kc.extend=function(e){var t,n,i=this;t=function(e,t){kc.call(this,e,t)},t.prototype=bu(i.prototype);for(n in e)Au.call(e,n)&&(t.prototype[n]=e[n]);return t.extend=kc.extend,t};var Vc,Hc,Bc,qc=kc,Gc=1,Qc=2,Zc=3,Kc=4,Jc=5,Yc=6,Xc=7,eh=8,th=9,nh=10,ih=13,rh=14,oh=15,sh=16,ah=17,uh=18,lh=20,ch=21,hh=22,dh=23,fh=24,ph=25,mh=26,gh=27,vh=30,_h=31,yh=32,bh=33,wh=34,Ph=35,kh=36,Ch=40,Eh=50,xh=51,Sh=52,Ah=53,Ih=54,Oh=60,Dh=61,Wh=zt,Lh=/^[^\s=]+/,Nh=/^\s+/,Fh=Vt,Mh=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Th=Ht,Rh={t:nh,exclude:!0},$h="Expected a JavaScript expression",jh="Expected closing paren",Uh=qt,zh=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Vh=Gt;Vc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Hc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Bc=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Hh,Bh,qh=function(e){return function(t){var n,i,r,o;for(n=t.pos,i='"',r=!1;!r;)o=t.matchPattern(Vc)||t.matchPattern(Hc)||t.matchString(e),o?i+='"'===o?'\\"':"\\'"===o?"'":o:(o=t.matchPattern(Bc),o?i+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},Gh=qh('"'),Qh=qh("'"),Zh=function(e){var t,n;return t=e.pos,e.matchString('"')?(n=Qh(e),e.matchString('"')?{t:ch,v:n}:(e.pos=t,null)):e.matchString("'")?(n=Gh(e),e.matchString("'")?{t:ch,v:n}:(e.pos=t,null)):null},Kh=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Jh=Qt,Yh=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Xh=Zt,ed=Kt,td=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("{")?(n=ed(e),e.allowWhitespace(),e.matchString("}")?{t:dh,m:n}:(e.pos=t,null)):(e.pos=t,null)},nd=Jt,id=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("[")?(n=nd(e),e.matchString("]")?{t:hh,m:n}:(e.pos=t,null)):(e.pos=t,null)},rd=Yt,od=Xt,sd=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Hh=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Bh=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var ad,ud,ld=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,cd=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,hd=en,dd=function(e){return rd(e)||od(e)||hd(e)},fd=tn,pd=function(e){var t,n,i,r;if(n=dd(e),!n)return null;for(;n;)if(t=e.pos,i=fd(e))n={t:yh,x:n,r:i};else{if(!e.matchString("("))break;e.allowWhitespace(),r=nd(e),e.allowWhitespace(),e.matchString(")")||e.error(jh),n={t:Ch,x:n},r&&(n.o=r)}return n};ud=function(e,t){return function(n){var i;return(i=t(n))?i:n.matchString(e)?(n.allowWhitespace(),i=Ad(n),i||n.error($h),{s:e,o:i,t:bh}):null}},function(){var e,t,n,i,r;for(i="! ~ + - typeof".split(" "),r=pd,e=0,t=i.length;t>e;e+=1)n=ud(i[e],r),r=n;ad=r}();var md,gd,vd=ad;gd=function(e,t){return function(n){var i,r,o;if(r=t(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(e))return n.pos=i,r;if("in"===e&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),o=t(n),!o)return n.pos=i,r;r={t:kh,s:e,o:[r,o]}}}},function(){var e,t,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=vd,e=0,t=i.length;t>e;e+=1)n=gd(i[e],r),r=n;md=r}();var _d,yd,bd,wd,Pd,kd,Cd,Ed,xd=md,Sd=nn,Ad=rn,Id=on,Od=an,Dd=/^[0-9][1-9]*$/,Wd=ln,Ld=cn,Nd=hn,Fd=dn,Md=fn,Td=pn,Rd=mn,$d=/^yield\s*/,jd=gn,Ud=vn,zd=/^\s*else\s*/,Vd=_n,Hd=/^\s*elseif\s+/,Bd={each:Sh,"if":Eh,"if-with":Ih,"with":Ah,unless:xh},qd=yn,Gd=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Qd=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Zd=new RegExp("^("+Object.keys(Bd).join("|")+")\\b"),Kd=Cn,Jd="<!--",Yd="-->";_d=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,yd=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,bd={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},wd=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Pd=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(bd).join("|")+"));?","g"),kd=/</g,Cd=/>/g,Ed=/&/g;var Xd,ef,tf,nf,rf,of,sf,af=/^\s*\r?\n/,uf=/\r?\n\s*$/,lf=function(e){var t,n,i,r,o;for(t=1;t<e.length;t+=1)n=e[t],i=e[t-1],r=e[t-2],An(n)&&In(i)&&An(r)&&uf.test(r)&&af.test(n)&&(e[t-2]=r.replace(uf,"\n"),e[t]=n.replace(af,"")),On(n)&&An(i)&&uf.test(i)&&An(n.f[0])&&af.test(n.f[0])&&(e[t-1]=i.replace(uf,"\n"),n.f[0]=n.f[0].replace(af,"")),An(n)&&On(i)&&(o=F(i.f),An(o)&&uf.test(o)&&af.test(n)&&(i.f[i.f.length-1]=o.replace(uf,"\n"),e[t]=n.replace(af,"")));return e},cf=function(e,t,n){var i;t&&(i=e[0],"string"==typeof i&&(i=i.replace(t,""),i?e[0]=i:e.shift())),n&&(i=F(e),"string"==typeof i&&(i=i.replace(n,""),i?e[e.length-1]=i:e.pop()))},hf=Dn,df=/[ \t\f\r\n]+/g,ff=/^(?:pre|script|style|textarea)$/i,pf=/^[ \t\f\r\n]+/,mf=/[ \t\f\r\n]+$/,gf=/^(?:\r\n|\r|\n)/,vf=/(?:\r\n|\r|\n)$/,_f=Wn,yf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,bf=function(e,t){var n,i,r;for(n=t.length;n--;){if(i=e.indexOf(t[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},wf=Ln,Pf=/^[^\s"'>\/=]+/,kf=/^[^\s"'=<>`]+/;ef={"true":!0,"false":!1,undefined:void 0,"null":null},tf=new RegExp("^(?:"+Object.keys(ef).join("|")+")"),nf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rf=/\$\{([^\}]+)\}/g,of=/^\$\{([^\}]+)\}/,sf=/^\s*$/,Xd=qc.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return 1===e.length&&sf.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(of),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;return(t=e.matchPattern(tf))?{v:ef[t]}:void 0},function(e){var t;return(t=e.matchPattern(nf))?{v:+t}:void 0},function(e){var t,n=Zh(e);return n&&(t=e.values)?{v:n.v.replace(rf,function(e,n){return n in t?t[n]:n})}:n},function(e){var t,n;if(!e.matchString("{"))return null;if(t={},e.allowWhitespace(),e.matchString("}"))return{v:t};for(;n=$n(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;if(t=[],e.allowWhitespace(),e.matchString("]"))return{v:t};for(;n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]});var Cf,Ef=function(e,t){var n=new Xd(e,{values:t});return n.result},xf=jn,Sf=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Af=/\)\s*$/;Cf=qc.extend({converters:[Ad]});var If,Of=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Df=/^[\s\n\/>]/,Wf=/^on/,Lf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Nf=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Ff={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Mf={exclude:!0};If={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Tf,Rf=Un,$f=Vn,jf=Hn,Uf=/[-\/\\^$*+?.()|[\]{}]/g,zf=Bn,Vf=/^<!--\s*/,Hf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Bf=/\s*-->/,qf=qn,Gf=/^#\s*partial\s+/,Qf=Gn,Zf=Qn,Kf=[Nd,Ld,qd,Rd,Td,Fd],Jf=[Wd],Yf=[Ld,qd,Td],Xf=void 0,ep=[Th,Kd,Rf,$f],tp=[zf,qf];Xf=qc.extend({init:function(e,t){var n=t.tripleDelimiters||["{{{","}}}"],i=t.staticDelimiters||["[[","]]"],r=t.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=t.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Kf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Jf},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:Yf},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:Jf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=t.stripComments!==!1,this.preserveWhitespace=t.preserveWhitespace,this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions},postProcess:function(e){return e.length?(this.sectionDepth>0&&this.error("A section was left open"),hf(e[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),e[0]):{t:[],v:su}},converters:[Qf],sortMustacheTags:function(){this.tags.sort(function(e,t){return t.open.length-e.open.length})}});var np,ip,rp,op=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],sp={fromId:Jn,isHashedId:Yn,isParsed:Xn,getParseOptions:ei,createHelper:Zn,parse:Kn},ap=sp,up={name:"template",extend:function(e,t,n){var i;"template"in n&&(i=n.template,t.template="function"==typeof i?i:ri(i,t))},init:function(e,t,n){var i,r;i="template"in n?n.template:e.prototype.template,"function"==typeof i&&(r=i,i=ni(t,r),t._config.template={fn:r,result:i}),i=ri(i,t),t.template=i.t,i.p&&oi(t.partials,i.p)},reset:function(e){var t,n=ti(e);return n?(t=ri(n,e),e.template=t.t,oi(e.partials,t.p,!0),!0):void 0}},lp=up;np=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],ip=function(e,t){this.name=e,this.useDefaults=t},ip.prototype={constructor:ip,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(){},configure:function(e,t,n){var i,r=this.name,o=n[r];i=bu(e[r]);for(var s in o)i[s]=o[s];t[r]=i},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var i=t[e];i._fn&&(i._fn.isOwner?t[e]=i._fn:delete t[e],n=!0)}),n}},rp=np.map(function(e){return new ip(e,"computed"===e)});var cp,hp,dp,fp,pp,mp,gp=rp,vp=si,_p=ci;fp={adapt:Oc,css:$c,data:Uc,template:lp},dp=Object.keys(uu),mp=fi(dp.filter(function(e){return!fp[e]})),pp=fi(dp.concat(gp.map(function(e){return e.name}))),hp=[].concat(dp.filter(function(e){return!gp[e]&&!fp[e]}),gp,fp.data,fp.template,fp.css),cp={extend:function(e,t,n){return hi("extend",e,t,n)},init:function(e,t,n){return hi("init",e,t,n)},reset:function(e){return hp.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},order:hp};var yp=cp,bp=pi,wp=mi,Pp=gi,kp=vi,Cp=_i,Ep=yi,xp=bi,Sp=wi,Ap=Pi,Ip=ki,Op=Ci,Dp=Ei,Wp=function(){return t(this.node)},Lp=function(e){this.type=Gc,this.text=e.template};Lp.prototype={detach:Wp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?Sn(this.text):this.text},unrender:function(e){return e?this.detach():void 0}};var Np=Lp,Fp=xi,Mp=Si,Tp=function(e,t,n){var i;this.ref=t,this.resolved=!1,this.root=e.root,this.parentFragment=e.parentFragment,this.callback=n,i=ul(e.root,t,e.parentFragment),void 0!=i?this.resolve(i):ml.addUnresolved(this)};Tp.prototype={resolve:function(e){this.keypath&&!e&&ml.addUnresolved(this),this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(C(this.ref))},rebind:function(e,t){var n;void 0!=this.keypath&&(n=this.keypath.replace(e,t),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||ml.removeUnresolved(this)}};var Rp=Tp,$p=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()},jp={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};$p.prototype={rebind:function(){var e,t=this.ref,n=this.parentFragment,i=jp[t];if(!i)throw new Error('Unknown special reference "'+t+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(C("@"+i.prefix+Ai(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Sh&&void 0!==(e=Ai(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(C("@"+i.prefix+e));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(e=Ai(n,i)))return this.callback(C("@"+i.prefix+e.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Up=$p,zp=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,t.ref.fragment.registerIndexRef(this),this.rebind()};zp.prototype={rebind:function(){var e,t=this.ref.ref;e="k"===t.ref.t?"k"+t.fragment.key:"i"+t.fragment.index,void 0!==e&&this.callback(C("@"+e))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Vp=zp,Hp=Ii;Ii.resolve=function(e){var t,n,i={};for(t in e.refs)n=e.refs[t],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var Bp,qp=Oi,Gp=Di,Qp={},Zp=Function.prototype.bind;Bp=function(e,t,n,i){var r,o=this;r=e.root,this.root=r,this.parentFragment=t,this.callback=i,this.owner=e,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(e,t){return qp(o,e,function(e){o.resolve(t,e)})}),this.ready=!0,this.bubble()},Bp.prototype={bubble:function(){this.ready&&(this.uniqueString=Li(this.str,this.keypaths),this.keypath=Ni(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var e;e=this.refResolvers.pop();)e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e,t,n,i,r,o=this;i=this.keypath,e=this.root.viewmodel.computations[i.str],e?this.root.viewmodel.mark(i):(r=Gp(this.str,this.refResolvers.length),t=this.keypaths.map(function(e){var t;return"undefined"===e?function(){return void 0}:e.isSpecial?(t=e.value,function(){return t}):function(){var t=o.root.viewmodel.get(e,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof t&&(t=Mi(t,o.root)),t}}),n={deps:this.keypaths.filter(Fi),getter:function(){var e=t.map(Wi);return r.apply(null,e)}},e=this.root.viewmodel.compute(i,n))},rebind:function(e,t){this.refResolvers.forEach(function(n){return n.rebind(e,t)})}};var Kp=Bp,Jp=function(e,t,n){var i=this;this.resolver=t,this.root=t.root,this.parentFragment=n,this.viewmodel=t.root.viewmodel,"string"==typeof e?this.value=e:e.t===vh?this.refResolver=qp(this,e.n,function(e){i.resolve(e)}):new Kp(t,n,e,function(e){i.resolve(e)})};Jp.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t){this.refResolver&&this.refResolver.rebind(e,t)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Yp=Jp,Xp=function(e,t,n){var i,r,o,s,a=this;this.parentFragment=s=e.parentFragment,this.root=i=e.root,this.mustache=e,this.ref=r=t.r,this.callback=n,this.unresolved=[],(o=ul(i,r,s))?this.base=o:this.baseResolver=new Rp(this,r,function(e){a.base=e,a.baseResolver=null,a.bubble()}),this.members=t.m.map(function(e){return new Yp(e,a,s)}),this.ready=!0,this.bubble()};Xp.prototype={getKeypath:function(){var e=this.members.map(Ti);return!e.every(Ri)||this.baseResolver?null:this.base.join(e.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(G)},rebind:function(e,t){var n;if(this.base){var i=this.base.replace(e,t);i&&i!==this.base&&(this.base=i,n=!0)}this.members.forEach(function(i){i.rebind(e,t)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=C(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach($i),this.bubble()}};var em=Xp,tm=ji,nm=Ui,im=zi,rm={getValue:Mp,init:tm,resolve:nm,rebind:im},om=function(e){this.type=Qc,rm.init(this,e)};om.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:rm.resolve,rebind:rm.rebind,detach:Wp,unbind:Fp,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(e){e&&t(this.node)},getValue:rm.getValue,setValue:function(e){var t;this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),a(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&ml.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=""+n(this.value);return e?Sn(t):t}};var sm=om,am=Vi,um=Hi,lm=Bi,cm=qi,hm=Gi,dm=Qi,fm=Zi,pm=Ki,mm=Ji,gm=function(e,t){rm.rebind.call(this,e,t)},vm=Xi,_m=er,ym=hr,bm=dr,wm=fr,Pm=gr,km=function(e){this.type=Kc,this.subtype=this.currentSubtype=e.template.n,this.inverted=this.subtype===xh,this.pElement=e.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],e.template.i&&(this.indexRefs=e.template.i.split(",").map(function(e,t){return{n:e,t:0===t?"k":"i"}})),this.renderedFragments=[],this.length=0,rm.init(this,e)};km.prototype={bubble:am,detach:um,find:lm,findAll:cm,findAllComponents:hm,findComponent:dm,findNextNode:fm,firstNode:pm,getIndexRef:function(e){if(this.indexRefs)for(var t=this.indexRefs.length;t--;){var n=this.indexRefs[t];if(n.n===e)return n}},getValue:rm.getValue,shuffle:mm,rebind:gm,render:vm,resolve:rm.resolve,setValue:_m,toString:ym,unbind:bm,unrender:wm,update:Pm};var Cm,Em,xm=km,Sm=vr,Am=_r,Im=yr,Om=br,Dm={};try{hu("table").innerHTML="foo"}catch(Cu){Cm=!0,Em={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Wm=function(e,t,n){var i,r,o,s,a,u=[];if(null!=e&&""!==e){for(Cm&&(r=Em[t.tagName])?(i=wr("DIV"),i.innerHTML=r[0]+e+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(o=i.options[i.selectedIndex])):t.namespaceURI===iu.svg?(i=wr("DIV"),i.innerHTML='<svg class="x">'+e+"</svg>",i=i.querySelector(".x")):(i=wr(t.tagName),i.innerHTML=e,"SELECT"===i.tagName&&(o=i.options[i.selectedIndex]));s=i.firstChild;)u.push(s),n.appendChild(s);if("SELECT"===t.tagName)for(a=u.length;a--;)u[a]!==o&&(u[a].selected=!1)}return u},Lm=Pr,Nm=Cr,Fm=Er,Mm=xr,Tm=Sr,Rm=Ar,$m=function(e){this.type=Zc,rm.init(this,e)};$m.prototype={detach:Sm,find:Am,findAll:Im,firstNode:Om,getValue:rm.getValue,rebind:rm.rebind,render:Nm,resolve:rm.resolve,setValue:Fm,toString:Mm,unbind:Fp,unrender:Tm,update:Rm};var jm,Um,zm,Vm,Hm=$m,Bm=function(){this.parentFragment.bubble()},qm=Ir,Gm=function(e){return this.node?du(this.node,e)?this.node:this.fragment&&this.fragment.find?this.fragment.find(e):void 0:null},Qm=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},Zm=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},Km=function(e){return this.fragment?this.fragment.findComponent(e):void 0},Jm=Or,Ym=Dr,Xm=Wr,eg=/^true|on|yes|1$/i,tg=/^[0-9]+$/,ng=function(e,t){var n,i,r;return r=t.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||eg.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&tg.test(n)?parseInt(n):0===n||eg.test(n)),i},ig=Lr;jm="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Um="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),zm=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];
return t},Vm=zm(jm.concat(Um));var rg=function(e){var t=e.toLowerCase();return Vm[t]||t},og=function(e,t){var n,i;if(n=t.indexOf(":"),-1===n||(i=t.substr(0,n),"xmlns"===i))e.name=e.element.namespace!==iu.html?rg(t):t;else if(t=t.substring(n+1),e.name=rg(t),e.namespace=iu[i.toLowerCase()],e.namespacePrefix=i,!e.namespace)throw'Unknown namespace ("'+i+'")'},sg=Nr,ag=Fr,ug=Mr,lg=Tr,cg={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},hg=Rr,dg=jr,fg=Ur,pg=zr,mg=Vr,gg=Hr,vg=Br,_g=qr,yg=Gr,bg=Qr,wg=Zr,Pg=Kr,kg=Jr,Cg=Yr,Eg=Xr,xg=function(e){this.init(e)};xg.prototype={bubble:ig,init:ag,rebind:ug,render:lg,toString:hg,unbind:dg,update:Eg};var Sg,Ag=xg,Ig=function(e,t){var n,i,r=[];for(n in t)"twoway"!==n&&"lazy"!==n&&t.hasOwnProperty(n)&&(i=new Ag({element:e,name:n,value:t[n],root:e.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(Sg=hu("div"));var Og=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new _b({root:e.root,owner:this,template:[t]})};Og.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t){this.fragment.rebind(e,t)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===iu.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e,t,n=this;e=this.fragment.toString(),t=eo(e,this.isSvg),this.attributes.filter(function(e){return to(t,e)}).forEach(function(e){n.node.removeAttribute(e.name)}),t.forEach(function(e){n.node.setAttribute(e.name,e.value)}),this.attributes=t},toString:function(){return this.fragment.toString()}};var Dg=Og,Wg=function(e,t){return t?t.map(function(t){return new Dg(e,t)}):[]},Lg=function(e){var t,n,i,r;if(this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],t=this.attribute.interpolator,t.twowayBinding=this,n=t.keypath){if("}"===n.str.slice(-1))return g("Two-way binding does not work with expressions (`%s` on <%s>)",t.resolver.uniqueString,e.name,{ractive:this.root}),!1;if(n.isSpecial)return g("Two-way binding does not work with %s",t.resolver.ref,{ractive:this.root}),!1}else{var o=t.template.r?"'"+t.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),t.resolver.forceResolution(),n=t.keypath}this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=no(e))&&(this.resetValue=i,r.formBindings.push(this))};Lg.prototype={handleChange:function(){var e=this;ml.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),ml.scheduleTask(function(){return e.attribute.locked=!1}),ml.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath,t!==n&&(M(this.root._twowayBindings[t.str],this),this.keypath=n,e=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),e.push(this))},unbind:function(){}},Lg.extend=function(e){var t,n=this;return t=function(e){Lg.call(this,e),this.init&&this.init()},t.prototype=bu(n.prototype),i(t.prototype,e),t.extend=Lg.extend,t};var Ng,Fg=Lg,Mg=io;Ng=Fg.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e,t=this.element.node,n=!1;this.rendered=!0,e=this.root.lazy,this.element.lazy===!0?e=!0:this.element.lazy===!1?e=!1:u(this.element.lazy)?(e=!1,n=+this.element.lazy):u(e||"")&&(n=+e,e=!1,this.element.lazy=n),this.handler=n?oo:Mg,t.addEventListener("change",Mg,!1),e||(t.addEventListener("input",this.handler,!1),t.attachEvent&&t.addEventListener("keyup",this.handler,!1)),t.addEventListener("blur",ro,!1)},unrender:function(){var e=this.element.node;this.rendered=!1,e.removeEventListener("change",Mg,!1),e.removeEventListener("input",this.handler,!1),e.removeEventListener("keyup",this.handler,!1),e.removeEventListener("blur",ro,!1)}});var Tg=Ng,Rg=Tg.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),$g=Rg,jg=so,Ug={},zg=Fg.extend({name:"checked",init:function(){this.siblings=jg(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",Mg,!1),e.attachEvent&&e.addEventListener("click",Mg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Mg,!1),e.removeEventListener("click",Mg,!1)},handleChange:function(){ml.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),ml.end()},getValue:function(){return this.element.node.checked},unbind:function(){M(this.siblings,this)}}),Vg=zg,Hg=Fg.extend({name:"name",init:function(){this.siblings=jg(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var e=this.element.node;e.name="{{"+this.keypath.str+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",Mg,!1),e.attachEvent&&e.addEventListener("click",Mg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Mg,!1),e.removeEventListener("click",Mg,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&Fg.prototype.handleChange.call(this)},rebound:function(e,t){var n;Fg.prototype.rebound.call(this,e,t),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){M(this.siblings,this)}}),Bg=Hg,qg=Fg.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.siblings=jg(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){M(this.siblings,this)},render:function(){var e,t,n=this.element.node;e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),this.isChecked=o(e)?W(e,t):e==t,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Mg,!1),n.attachEvent&&n.addEventListener("click",Mg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Mg,!1),e.removeEventListener("click",Mg,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,Fg.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ao).map(uo)}}),Gg=qg,Qg=Fg.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",Mg,!1),e.attachEvent&&e.addEventListener("click",Mg,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",Mg,!1),e.removeEventListener("click",Mg,!1)},getValue:function(){return this.element.node.checked}}),Zg=Qg,Kg=Fg.extend({getInitialValue:function(){var e,t,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(t=e=r.length,e)){for(;t--;)if(r[t].getAttribute("selected")){n=r[t].getAttribute("value"),i=!0;break}if(!i)for(;++t<e;)if(!r[t].getAttribute("disabled")){n=r[t].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Mg,!1)},unrender:function(){this.element.node.removeEventListener("change",Mg,!1)},setValue:function(e){this.root.viewmodel.set(this.keypath,e)},getValue:function(){var e,t,n,i,r;for(e=this.element.node.options,n=e.length,t=0;n>t;t+=1)if(i=e[t],e[t].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,ml.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))}}),Jg=Kg,Yg=Jg.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",Mg,!1),e=this.root.viewmodel.get(this.keypath),void 0===e&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Mg,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,i,r,o;for(e=[],t=this.element.node.options,i=t.length,n=0;i>n;n+=1)r=t[n],r.selected&&(o=r._ractive?r._ractive.value:r.value,e.push(o));return e},handleChange:function(){var e,t,n;return e=this.attribute,t=e.value,n=this.getValue(),void 0!==t&&L(n,t)||Jg.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,t=this.getValue();void 0!==t&&(this.attribute.locked=!0,ml.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Xg=Yg,ev=Fg.extend({render:function(){this.element.node.addEventListener("change",Mg,!1)},unrender:function(){this.element.node.removeEventListener("change",Mg,!1)},getValue:function(){return this.element.node.files}}),tv=ev,nv=Tg.extend({getInitialValue:function(){return void 0},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?void 0:e}}),iv=lo,rv=ho,ov=fo,sv=po,av=mo,uv=/^event(?:\.(.+))?/,lv=yo,cv=bo,hv={},dv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},fv=Po,pv=ko,mv=Co,gv=Eo,vv=xo,_v=function(e,t,n){this.init(e,t,n)};_v.prototype={bubble:rv,fire:ov,getAction:sv,init:av,listen:cv,rebind:fv,render:pv,resolve:mv,unbind:gv,unrender:vv};var yv=_v,bv=function(e,t){var n,i,r,o,s=[];for(i in t)if(t.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)o=new yv(e,r[n],t[i]),s.push(o);return s},wv=function(e,t){var n,i,r,o=this;this.element=e,this.root=n=e.root,i=t.n||t,("string"==typeof i||(r=new _b({template:i,root:n,owner:e}),i=r.toString(),r.unbind(),""!==i))&&(t.a?this.params=t.a:t.d&&(this.fragment=new _b({template:t.d,root:n,owner:e}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=v("decorators",n,i),this.fn||h(Fu(i,"decorator")))};wv.prototype={init:function(){var e,t,n;if(e=this.element.node,this.params?(n=[e].concat(this.params),t=this.fn.apply(this.root,n)):t=this.fn.call(this.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t){this.fragment&&this.fragment.rebind(e,t)},teardown:function(e){this.torndown=!0,this.ready&&this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}};var Pv,kv,Cv,Ev=wv,xv=Lo,Sv=No,Av=jo,Iv=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})};Xa?(kv={},Cv=hu("div").style,Pv=function(e){var t,n,i;if(e=Iv(e),!kv[e])if(void 0!==Cv[e])kv[e]=e;else for(i=e.charAt(0).toUpperCase()+e.substring(1),t=ou.length;t--;)if(n=ou[t],void 0!==Cv[n+i]){kv[e]=n+i;break}return kv[e]}):Pv=null;var Ov,Dv,Wv=Pv;Xa?(Dv=window.getComputedStyle||ku.getComputedStyle,Ov=function(e){var t,n,i,r,s;if(t=Dv(this.node),"string"==typeof e)return s=t[Wv(e)],"0px"===s&&(s=0),s;if(!o(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=e.length;i--;)r=e[i],s=t[Wv(r)],"0px"===s&&(s=0),n[r]=s;return n}):Ov=null;var Lv=Ov,Nv=function(e,t){var n;if("string"==typeof e)this.node.style[Wv(e)]=t;else for(n in e)e.hasOwnProperty(n)&&(this.node.style[Wv(n)]=e[n]);return this},Fv=function(e){var t;this.duration=e.duration,this.step=e.step,this.complete=e.complete,"string"==typeof e.easing?(t=e.root.easing[e.easing],t||(g(Fu(e.easing,"easing")),t=Uo)):t="function"==typeof e.easing?e.easing:Uo,this.easing=t,this.start=Xu(),this.end=this.start+this.duration,this.running=!0,_l.add(this)};Fv.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Mv,Tv,Rv,$v,jv,Uv,zv,Vv,Hv=Fv,Bv=new RegExp("^-(?:"+ou.join("|")+")-"),qv=function(e){return e.replace(Bv,"")},Gv=new RegExp("^(?:"+ou.join("|")+")([A-Z])"),Qv=function(e){var t;return e?(Gv.test(e)&&(e="-"+e),t=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""},Zv={},Kv={};Xa?(Tv=hu("div").style,function(){void 0!==Tv.transition?(Rv="transition",$v="transitionend",jv=!0):void 0!==Tv.webkitTransition?(Rv="webkitTransition",$v="webkitTransitionEnd",jv=!0):jv=!1}(),Rv&&(Uv=Rv+"Duration",zv=Rv+"Property",Vv=Rv+"TimingFunction"),Mv=function(e,t,n,i,r){setTimeout(function(){var o,s,a,u,l;u=function(){s&&a&&(e.root.fire(e.name+":end",e.node,e.isIntro),r())},o=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[zv]=i.map(Wv).map(Qv).join(","),e.node.style[Vv]=Qv(n.easing||"linear"),e.node.style[Uv]=n.duration/1e3+"s",l=function(t){var n;n=i.indexOf(Iv(qv(t.propertyName))),-1!==n&&i.splice(n,1),i.length||(e.node.removeEventListener($v,l,!1),a=!0,u())},e.node.addEventListener($v,l,!1),setTimeout(function(){for(var r,c,h,d,f,p=i.length,g=[];p--;)d=i[p],r=o+d,jv&&!Kv[r]&&(e.node.style[Wv(d)]=t[d],Zv[r]||(c=e.getStyle(d),Zv[r]=e.getStyle(d)!=t[d],Kv[r]=!Zv[r],Kv[r]&&(e.node.style[Wv(d)]=c))),(!jv||Kv[r])&&(void 0===c&&(c=e.getStyle(d)),h=i.indexOf(d),-1===h?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:e.node}):i.splice(h,1),f=/[^\d]*$/.exec(t[d])[0],g.push({name:Wv(d),interpolator:Tu(parseFloat(c),parseFloat(t[d])),suffix:f}));g.length?new Hv({root:e.root,duration:n.duration,easing:Iv(n.easing||""),step:function(t){var n,i;for(i=g.length;i--;)n=g[i],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){s=!0,u()}}):s=!0,i.length||(e.node.removeEventListener($v,l,!1),a=!0,u())},0)},n.delay||0)}):Mv=null;var Jv,Yv,Xv,e_,t_,n_=Mv;if("undefined"!=typeof document){if(Jv="hidden",t_={},Jv in document)Xv="";else for(e_=ou.length;e_--;)Yv=ou[e_],Jv=Yv+"Hidden",Jv in document&&(Xv=Yv);void 0!==Xv?(document.addEventListener(Xv+"visibilitychange",zo),zo()):("onfocusout"in document?(document.addEventListener("focusout",Vo),document.addEventListener("focusin",Ho)):(window.addEventListener("pagehide",Vo),window.addEventListener("blur",Vo),window.addEventListener("pageshow",Ho),window.addEventListener("focus",Ho)),t_.hidden=!1)}var i_,r_,o_,s_=t_;Xa?(r_=window.getComputedStyle||ku.getComputedStyle,i_=function(e,t,n){var i,r=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(s_.hidden)return this.setStyle(e,t),o_||(o_=sl.resolve());"string"==typeof e?(i={},i[e]=t):(i=e,n=t),n||(g('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var o=new sl(function(e){var t,o,s,a,u,l,c;if(!n.duration)return r.setStyle(i),void e();for(t=Object.keys(i),o=[],s=r_(r.node),u={},l=t.length;l--;)c=t[l],a=s[Wv(c)],"0px"===a&&(a=0),a!=i[c]&&(o.push(c),r.node.style[Wv(c)]=a);return o.length?void n_(r,i,n,o,e):void e()});return o}):i_=null;var a_=i_,u_=function(e,t){return"number"==typeof e?e={duration:e}:"string"==typeof e?e="slow"===e?{duration:600}:"fast"===e?{duration:200}:{duration:400}:e||(e={}),r({},e,t)},l_=Bo,c_=function(e,t,n){this.init(e,t,n)};c_.prototype={init:Av,start:l_,getStyle:Lv,setStyle:Nv,animateStyle:a_,processParams:u_};var h_,d_,f_=c_,p_=Go;h_=function(){var e=this.node,t=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(e.type="text/css"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},d_=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var m_=function(){var e,t;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(e="<"+this.template.e,e+=this.attributes.map(Xo).join("")+this.conditionalAttributes.map(Xo).join(""),"option"===this.name&&Jo(this)&&(e+=" selected"),"input"===this.name&&Yo(this)&&(e+=" checked"),e+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?e+=Sn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(e+=this.getAttribute("value")||""),this.fragment&&(t="script"!==this.name&&"style"!==this.name,e+=this.fragment.toString(t)),yd.test(this.template.e)||(e+="</"+this.template.e+">"),e)},g_=es,v_=ts,__=function(e){this.init(e)};__.prototype={bubble:Bm,detach:qm,find:Gm,findAll:Qm,findAllComponents:Zm,findComponent:Km,findNextNode:Jm,firstNode:Ym,getAttribute:Xm,init:xv,rebind:Sv,render:p_,toString:m_,unbind:g_,unrender:v_};var y_=__,b_=/^\s*$/,w_=/^\s*/,P_=function(e){var t,n,i,r;return t=e.split("\n"),n=t[0],void 0!==n&&b_.test(n)&&t.shift(),i=F(t),void 0!==i&&b_.test(i)&&t.pop(),r=t.reduce(is,null),r&&(e=t.map(function(e){return e.replace(r,"")}).join("\n")),e},k_=rs,C_=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},E_='Could not find template for partial "%s"',x_=function(e){var t,n;t=this.parentFragment=e.parentFragment,this.root=t.root,this.type=eh,this.index=e.index,this.name=e.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,rm.init(this,e),this.keypath||((n=k_(this.root,this.name,t))?(Fp.call(this),this.isNamed=!0,this.setTemplate(n)):g(E_,this.name))};x_.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(e,t){this.isNamed||im.call(this,e,t),this.fragment&&this.fragment.rebind(e,t)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:rm.resolve,setValue:function(e){var t;(void 0===e||e!==this.value)&&(void 0!==e&&(t=k_(this.root,""+e,this.parentFragment)),!t&&this.name&&(t=k_(this.root,this.name,this.parentFragment))&&(Fp.call(this),this.isNamed=!0),t||g(E_,this.name,{ractive:this.root}),this.value=e,this.setTemplate(t||[]),this.bubble(),this.rendered&&ml.addView(this))},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new _b({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var t,n,i,r;return t=this.fragment.toString(e),n=this.parentFragment.items[this.index-1],n&&n.type===Gc?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?C_(t,r[0]):t):t},unbind:function(){this.isNamed||Fp.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}};var S_,A_,I_,O_=x_,D_=ls,W_=cs,L_=new nl("detach"),N_=hs,F_=ds,M_=fs,T_=ps,R_=ms,$_=gs,j_=function(e,t,n,i){var r=e.root,o=e.keypath;i?r.viewmodel.smartUpdate(o,t,i):r.viewmodel.mark(o)},U_=[],z_=["pop","push","reverse","shift","sort","splice","unshift"];z_.forEach(function(e){var t=function(){for(var t=arguments.length,n=Array(t),i=0;t>i;i++)n[i]=arguments[i];var r,o,s,a;for(r=mc(this,e,n),o=Array.prototype[e].apply(this,arguments),ml.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)s=this._ractive.wrappers[a],ml.addRactive(s.root),j_(s,this,e,r);return ml.end(),this._ractive.setting=!1,o};wu(U_,e,{value:t})}),S_={},S_.__proto__?(A_=function(e){e.__proto__=U_},I_=function(e){e.__proto__=Array.prototype}):(A_=function(e){var t,n;for(t=z_.length;t--;)n=z_[t],wu(e,n,{value:U_[n],configurable:!0})},I_=function(e){var t;for(t=z_.length;t--;)delete e[z_[t]]}),A_.unpatch=I_;var V_,H_,B_,q_=A_;V_={filter:function(e){return o(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new H_(e,t,n)}},H_=function(e,t,n){this.root=e,this.value=t,this.keypath=C(n),t._ractive||(wu(t,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),q_(t)),t._ractive.instances[e._guid]||(t._ractive.instances[e._guid]=0,t._ractive.instances.push(e)),t._ractive.instances[e._guid]+=1,t._ractive.wrappers.push(this)},H_.prototype={get:function(){return this.value},teardown:function(){var e,t,n,i,r;if(e=this.value,t=e._ractive,n=t.wrappers,i=t.instances,t.setting)return!1;if(r=n.indexOf(this),-1===r)throw new Error(B_);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw new Error(B_);i.splice(r,1)}}else delete e._ractive,q_.unpatch(this.value)}},B_="Something went wrong in a rather interesting way";var G_,Q_,Z_=V_,K_=/^\s*[0-9]+\s*$/,J_=function(e){return K_.test(e)?[]:{}};try{Object.defineProperty({},"test",{value:0}),G_={filter:function(e,t,n){var i,r;return t?(t=C(t),(i=n.viewmodel.wrapped[t.parent.str])&&!i.magic?!1:(r=n.viewmodel.get(t.parent),o(r)&&/^[0-9]+$/.test(t.lastKey)?!1:r&&("object"==typeof r||"function"==typeof r))):!1},wrap:function(e,t,n){return new Q_(e,t,n)}},Q_=function(e,t,n){var i,r,o;return n=C(n),this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?e.viewmodel.data:e.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(o=r.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void vs(this,t,r)},Q_.prototype={get:function(){return this.value},reset:function(e){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=e,ml.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(e,t){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=J_(e),this.updating=!1),this.obj[this.prop][e]=t)},teardown:function(){var e,t,n,i,r;return this.updating?!1:(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void(t&&(i=t._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Cu){G_=!1}var Y_,X_,ey=G_;ey&&(Y_={filter:function(e,t,n){return ey.filter(e,t,n)&&Z_.filter(e)},wrap:function(e,t,n){return new X_(e,t,n)}},X_=function(e,t,n){this.value=t,this.magic=!0,this.magicWrapper=ey.wrap(e,t,n),this.arrayWrapper=Z_.wrap(e,t,n)},X_.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}});var ty=Y_,ny=_s,iy={},ry=ws,oy=Ps,sy=Es,ay=Os,uy=Ds,ly=function(e,t){this.computation=e,this.viewmodel=e.viewmodel,this.ref=t,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};ly.prototype={resolve:function(e){this.computation.softDeps.push(e),this.computation.unresolvedDeps[e.str]=null,this.viewmodel.register(e,this.computation,"computed")}};var cy=ly,hy=function(e,t){this.key=e,this.getter=t.getter,this.setter=t.setter,this.hardDeps=t.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};hy.prototype={constructor:hy,init:function(e){var t,n=this;this.viewmodel=e,this.bypass=!0,t=e.get(this.key),e.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==t&&this.set(t),this.hardDeps&&this.hardDeps.forEach(function(t){return e.register(t,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var e,t,n=this,i=!1;if(this.getting){var r="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(r),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?i=!0:[this.hardDeps,this.softDeps].forEach(function(e){var t,r,o;if(!i)for(o=e.length;o--;)if(t=e[o],r=n.viewmodel.get(t),!a(r,n.depValues[t.str]))return n.depValues[t.str]=r,void(i=!0)}),i){this.viewmodel.capture();try{this.value=this.getter()}catch(o){m('Failed to compute "%s"',this.key.str),d(o.stack||o),this.value=void 0}e=this.viewmodel.release(),t=this.updateDependencies(e),t&&[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){n.depValues[e.str]=n.viewmodel.get(e)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(e){if(this.setting)return void(this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(e)},updateDependencies:function(e){var t,n,i,r,o;for(n=this.softDeps,t=n.length;t--;)i=n[t],-1===e.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(t=e.length;t--;)i=e[t],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,Ws(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(o=new cy(this,i.str),e.splice(t,1),this.unresolvedDeps[i.str]=o,ml.addUnresolved(o)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=e.slice()),r}};var dy=hy,fy=Ls,py={FAILED_LOOKUP:!0},my=Ns,gy={},vy=Ms,_y=Ts,yy=function(e,t){this.localKey=e,this.keypath=t.keypath,this.origin=t.origin,this.deps=[],this.unresolved=[],this.resolved=!1};yy.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(e,t){return this.resolved?this.origin.get(this.map(e),t):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(e){this.local=e,this.setup()},map:function(e){return void 0===typeof this.keypath?this.localKey:e.replace(this.localKey,this.keypath)},register:function(e,t,n){this.deps.push({keypath:e,dep:t,group:n}),this.resolved&&this.origin.register(this.map(e),t,n)},resolve:function(e){void 0!==this.keypath&&this.unbind(!0),this.keypath=e,this.setup()},set:function(e,t){this.resolved||this.forceResolution(),this.origin.set(this.map(e),t)},setup:function(){var e=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(t){var n=e.map(t.keypath);if(e.origin.register(n,t.dep,t.group),t.dep.setValue)t.dep.setValue(e.origin.get(n));else{if(!t.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");t.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(e){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,e)},unbind:function(e){var t=this;e||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(e){t.origin.unregister(t.map(e.keypath),e.dep,e.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(e,t,n){var i,r;if(this.resolved){for(i=this.deps,r=i.length;r--;)if(i[r].dep===t){i.splice(r,1);break}this.origin.unregister(this.map(e),t,n)}}};var by=Rs,wy=function(e,t){var n,i,r,o;return n={},i=0,r=e.map(function(e,r){var s,a,u;a=i,u=t.length;do{if(s=t.indexOf(e,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===i&&(i+=1),s!==r&&(o=!0),n[s]=!0,s})},Py=$s,ky={},Cy=zs,Ey=Hs,xy=Bs,Sy=qs,Ay=Qs,Iy={implicit:!0},Oy={noCascade:!0},Dy=Ks,Wy=Js,Ly=function(e){var t,n,i=e.adapt,r=e.data,o=e.ractive,s=e.computed,a=e.mappings;this.ractive=o,this.adaptors=i,this.onchange=e.onchange,this.cache={},this.cacheMap=bu(null),this.deps={computed:bu(null),"default":bu(null)},this.depsMap={computed:bu(null),"default":bu(null)},this.patternObservers=[],this.specials=bu(null),this.wrapped=bu(null),this.computations=bu(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=r,this.mappings=bu(null);for(t in a)this.map(C(t),a[t]);if(r)for(t in r)(n=this.mappings[t])&&void 0===n.getValue()&&n.setValue(r[t]);for(t in s)a&&t in a&&h("Cannot map to a computed property ('%s')",t),this.compute(C(t),s[t]);this.ready=!0};Ly.prototype={adapt:ny,applyChanges:sy,capture:ay,clearCache:uy,compute:fy,get:my,init:vy,map:_y,mark:by,merge:Py,register:Cy,release:Ey,reset:xy,set:Sy,smartUpdate:Ay,teardown:Dy,unregister:Wy};var Ny=Ly;Xs.prototype={constructor:Xs,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e.parent;t&&this.inProcess[t._guid]?ea(this.queue,t).push(e):ta(this,e),delete this.inProcess[e._guid]}};var Fy=Xs,My=na,Ty=/\$\{([^\}]+)\}/g,Ry=new nl("construct"),$y=new nl("config"),jy=new Fy("init"),Uy=0,zy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Vy=sa,Hy=ha;ha.prototype={bubble:function(){this.dirty||(this.dirty=!0,ml.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(e,t){this.fragment.rebind(e,t)},unbind:function(){this.fragment.unbind()}};var By=function(e,t,n,r,s){var a,u,l,c,h,d,f={},p={},g={},v=[];for(u=e.parentFragment,l=e.root,s=s||{},i(f,s),s.content=r||[],f[""]=s.content,t.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",e.name),c=u;c;){if(c.owner.type===sh){h=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(t){var i,r,s=n[t];if("string"==typeof s)i=Ef(s),p[t]=i?i.value:s;else if(0===s)p[t]=!0;else{if(!o(s))throw new Error("erm wut");fa(s)?(g[t]={origin:e.root.viewmodel,keypath:void 0},r=da(e,s[0],function(e){e.isSpecial?d?a.set(t,e.value):(p[t]=e.value,delete g[t]):d?a.viewmodel.mappings[t].resolve(e):g[t].keypath=e})):r=new Hy(e,s,function(e){d?a.set(t,e):p[t]=e}),v.push(r)}}),a=bu(t.prototype),Vy(a,{el:null,append:!0,data:p,partials:s,magic:l.magic||t.defaults.magic,modifyArrays:l.modifyArrays,adapt:l.adapt},{parent:l,component:e,container:h,mappings:g,inlinePartials:f,cssIds:u.cssIds}),d=!0,e.resolvers=v,a
},qy=pa,Gy=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t.parent},Qy=ga,Zy=va,Ky=_a,Jy=ya,Yy=ba,Xy=new nl("teardown"),eb=Pa,tb=function(e,t){this.init(e,t)};tb.prototype={detach:W_,find:N_,findAll:F_,findAllComponents:M_,findComponent:T_,findNextNode:R_,firstNode:$_,init:Qy,rebind:Zy,render:Ky,toString:Jy,unbind:Yy,unrender:eb};var nb=tb,ib=function(e){this.type=th,this.value=e.template.c};ib.prototype={detach:Wp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}};var rb=ib,ob=function(e){var t,n;this.type=sh,this.container=t=e.parentFragment.root,this.component=n=t.component,this.container=t,this.containerFragment=e.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=e.template.n||"",r=t._inlinePartials[i];r||(m('Could not find template for partial "'+i+'"',{ractive:e.root}),r=[]),this.fragment=new _b({owner:this,root:t.parent,template:r,pElement:this.containerFragment.pElement}),o(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],ml.scheduleTask(function(){if(n.yielders[i].length>1)throw new Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};ob.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),M(this.component.yielders[this.name],this)},rebind:function(e,t){this.fragment.rebind(e,t)},toString:function(){return this.fragment.toString()}};var sb=ob,ab=function(e){this.declaration=e.template.a};ab.prototype={init:Du,render:Du,unrender:Du,teardown:Du,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var ub=ab,lb=ka,cb=Ea,hb=xa,db=Sa,fb=Oa,pb=Wa,mb=function(e){this.init(e)};mb.prototype={bubble:bp,detach:wp,find:Pp,findAll:kp,findAllComponents:Cp,findComponent:Ep,findNextNode:xp,firstNode:Sp,getArgsList:Ip,getNode:Op,getValue:Dp,init:lb,rebind:cb,registerIndexRef:function(e){var t=this.registeredIndexRefs;-1===t.indexOf(e)&&t.push(e)},render:hb,toString:db,unbind:fb,unregisterIndexRef:function(e){var t=this.registeredIndexRefs;t.splice(t.indexOf(e),1)},unrender:pb};var gb,vb,_b=mb,yb=La,bb=["template","partials","components","decorators","events"],wb=new nl("reset"),Pb=function(e,t){function n(t,i,r){r&&r.partials[e]||t.forEach(function(t){t.type===eh&&t.getPartialName()===e&&i.push(t),t.fragment&&n(t.fragment.items,i,r),o(t.fragments)?n(t.fragments,i,r):o(t.items)?n(t.items,i,r):t.type===oh&&t.instance&&n(t.instance.fragment.items,i,t.instance),t.type===Xc&&(o(t.attributes)&&n(t.attributes,i,r),o(t.conditionalAttributes)&&n(t.conditionalAttributes,i,r))})}var i,r=[];return n(this.fragment.items,r),this.partials[e]=t,i=ml.start(this,!0),r.forEach(function(t){t.value=void 0,t.setValue(e)}),ml.end(),i},kb=Na,Cb=vc("reverse"),Eb=Fa,xb=vc("shift"),Sb=vc("sort"),Ab=vc("splice"),Ib=Ta,Ob=Ra,Db=new nl("teardown"),Wb=ja,Lb=Ua,Nb=za,Fb=new nl("unrender"),Mb=vc("unshift"),Tb=Va,Rb=new nl("update"),$b=Ha,jb={add:Ku,animate:wl,detach:kl,find:El,findAll:Nl,findAllComponents:Fl,findComponent:Ml,findContainer:Tl,findParent:Rl,fire:zl,get:Vl,insert:Bl,merge:Gl,observe:uc,observeOnce:lc,off:dc,on:fc,once:pc,pop:_c,push:yc,render:xc,reset:yb,resetPartial:Pb,resetTemplate:kb,reverse:Cb,set:Eb,shift:xb,sort:Sb,splice:Ab,subtract:Ib,teardown:Ob,toggle:Wb,toHTML:Lb,toHtml:Lb,unrender:Nb,unshift:Mb,update:Tb,updateModel:$b},Ub=function(e,t,n){return n||qa(e,t)?function(){var n,i="_super"in this,r=this._super;return this._super=t,n=e.apply(this,arguments),i&&(this._super=r),n}:e},zb=Ga,Vb=Ja,Hb=function(e){var t,n,i={};return e&&(t=e._ractive)?(i.ractive=t.root,i.keypath=t.keypath.str,i.index={},(n=Hp(t.proxy.parentFragment))&&(i.index=Hp.resolve(n)),i):i};gb=function(e){return this instanceof gb?void Vy(this,e):new gb(e)},vb={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Vb},getNodeInfo:{value:Hb},parse:{value:Zf},Promise:{value:sl},svg:{value:ru},magic:{value:nu},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:lu},events:{writable:!0,value:{}},interpolators:{writable:!0,value:$u},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Pu(gb,vb),gb.prototype=i(jb,uu),gb.prototype.constructor=gb,gb.defaults=gb.prototype;var Bb="function";if(typeof Date.now!==Bb||typeof String.prototype.trim!==Bb||typeof Object.keys!==Bb||typeof Array.prototype.indexOf!==Bb||typeof Array.prototype.forEach!==Bb||typeof Array.prototype.map!==Bb||typeof Array.prototype.filter!==Bb||"undefined"!=typeof window&&typeof window.addEventListener!==Bb)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var qb=gb;return qb});var $=jQuery,autoc_home,autochlistener,autochtabbing,autochentering,autoc_comp,autocclistener,autocctabbing,autoccentering,modal,phdata={},phcompdata={},viaNewsletter={userEmail:""},$=jQuery,QueryString=function(){for(var e={},t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");if("undefined"==typeof e[r[0]])e[r[0]]=r[1];else if("string"==typeof e[r[0]]){var o=[e[r[0]],r[1]];e[r[0]]=o}else e[r[0]].push(r[1])}return e}(),initCompanyAutocomplete=function(){autoc_comp=new google.maps.places.Autocomplete(document.getElementById("form-company-address-full"),{types:["geocode"]}),autocclistener=google.maps.event.addListener(autoc_comp,"place_changed",onCompPlaceChanged),autocctabbing=google.maps.event.addDomListener(document.getElementById("form-company-address-full"),"focusout",function(){google.maps.event.trigger(this,"focus"),google.maps.event.trigger(this,"keydown",{keyCode:13})})},initHomeAutocomplete=function(){autoc_home=new google.maps.places.Autocomplete(document.getElementById("form-home-delivery-address-full"),{types:["geocode"]}),autochlistener=google.maps.event.addListener(autoc_home,"place_changed",onHomePlaceChanged),autochtabbing=google.maps.event.addDomListener(document.getElementById("form-home-delivery-address-full"),"focusout",function(){google.maps.event.trigger(this,"focus"),google.maps.event.trigger(this,"keydown",{keyCode:13})})};$(function(){watch(viaNewsletter,"userEmail",function(){ractive.togglePrevEmail()}),$("#newsletter-input-value").on("focus",function(){$(this).removeClass("newsletter-input-error"),$(".newsletter-input-box").removeAttr("data-hint")}),$("#newsletter-submit-button").click(function(){var e=$("#newsletter-input-value").val();if(""!==e){if(e.length<$("#newsletter-input-value").attr("minlength"))return $("#newsletter-input-value").addClass("newsletter-input-error"),void $(".newsletter-input-box").attr("data-hint","This appears to be too short to be an email address");var t=e.indexOf("@");if(0>=t)return $("#newsletter-input-value").addClass("newsletter-input-error"),void $(".newsletter-input-box").attr("data-hint","Please enter a valid email address");var n=/(?:info|sales|sale|help|marketing)/gi,i=e.substring(0,t);if(n.test(i))return $("#newsletter-input-value").addClass("newsletter-input-error"),void $(".newsletter-input-box").attr("data-hint","Please do not use emails starting with sales, info or help. Thank you.");var r=/([-!#-'*+\/-9=?A-Z^-~]+(\.[-!#-'*+\/-9=?A-Z^-~]+)*|"([]!#-[^-~ \t]|(\\[\t -~]))+")@[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?(\.[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?)*\.(net|org|com|info|etc|co.*|aero|coop|info|museum|name|biz|xxx|ac|af|ax|al|dz|us|as|ad|ao|ai|aq|ag|an|ar|am|aw|au|at|az|bs|bh|bd|bb|by|be|bz|bj|bm|bt|bo|ba|bw|bv|br|io|bn|bg|bf|mm|bi|kh|cm|ca|cv|ky|cf|td|cl|cn|cx|cc|co|km|cd|cg|ck|cr|ci|hr|cu|an|cy|cz|dk|dj|dm|do|tp|ec|eg|sv|uk|gq|er|ee|et|eu|fo|fj|fi|fr|gf|pf|tf|ga|gm|ge|gs|de|gh|gi|gb|gr|gl|gd|gp|gu|gt|gg|sr|gf|gn|gw|gq|pg|gy|ht|hm|va|hn|hk|hr|hu|is|in|io|id|ir|iq|ie|im|il|it|ci|jm|jp|je|jo|kz|cc|ke|ki|kn|kp|kr|kw|kg|lk|la|lv|lb|ls|lr|ly|li|lt|lc|lu|mo|mk|mg|mw|my|mv|ml|mt|fk|mp|mh|mr|mu|yt|fm|mx|md|mc|mn|me|ms|ma|mz|mm|na|nr|np|nl|an|nc|pg|nz|ni|ne|ng|nu|nf|mp|kp|no|om|pk|pw|ps|pa|pg|py|pe|ph|pm|pn|pl|pf|pt|pr|qa|re|ro|ru|rw|sh|kn|lc|vc|sv|as|sm|gs|st Arabia|sa|sn|rs|me|cs|rs|sc|sl|sg|sk|si|sb|so|za|kr|su|es|lk|sd|sr|sj|sz|se|ch|sy|tw|tj|tz|thno|tp|tl|tg|tk|to|tt|tn|tr|tm|tc|tv|ug|ua|ae|uk|us|um|vi|uy|uz|vu|va|ve|vn|vg|vi|wf|eh|ws|ye|yu|me|rs|zr|zw|zm)/gi;if(!r.test(e))return $("#newsletter-email-value").addClass("newsletter-input-error"),void $(".newsletter-input-box").attr("data-hint","Please enter a valid email address");viaNewsletter.userEmail=e,modal.open(),setTimeout(function(){$("#primary-input").focus()},100)}});$("#primary-input").autocomplete({source:function(e,t){$.ajax({url:"//leadworks.pmmimediagroup.com/api/getCompaniesByName",dataType:"jsonp",data:{name:e.term},delay:500,success:function(e){if(e.length<6){$(".ui-autocomplete").css("min-height",3.75*e.length+"em");var n=$(".ui-autocomplete").css("left");$(".ui-autocomplete").css("left",n+8+"px")}t($.map(e,function(e){return{label:e.company_name+" "+e.label,value:e.company_name,data:e}}))}})},minLength:2,create:function(){$(".ui-autocomplete").addClass("bootstrap"),$(".ui-front").width($(".prime-row").outerWidth()+$("#primary-input + * + div").width()),$(".ui-state-hover.ui-corner-all, .ui-state-focus.ui-corner-all").width($(".prime-row").outerWidth())},select:function(e,t){ractive.listSelect(e,t),ga("send","event","PP OEM Subscription Form","User selected an entry in the company dropdown","Input action")},focus:function(){ractive.set("prevKey",null)},open:function(){{var e=$(this).data("ui-autocomplete");""!==e.previous?e.previous:""}ga("send","event","AW Subscription Form","Company dropdown was triggered","Input action"),$(".ui-menu-item").length>10?(ractive.set("promptScrollOnPrimaryInput",!0),ga("send","event","AW Subscription Form","Company dropdown trigger was over ten items","Input action"),$(".ui-menu-item:nth-child(10)").after('<li class="longListConcern">Scroll to see more <i class="fa fa-fw fa-angle-double-down"></i></li>')):ractive.set("promptScrollOnPrimaryInput",!1)},close:function(){}})}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-keys plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t,n=function(e){return function(t,n){var i;return t.addEventListener("keydown",i=function(i){var r=i.which||i.keyCode;r===e&&(i.preventDefault(),n({node:t,original:i}))},!1),{teardown:function(){t.removeEventListener("keydown",i,!1)}}}};t=e.events,t.enter=n(13),t.tab=n(9),t.escape=n(27),t.space=n(32),t.leftarrow=n(37),t.rightarrow=n(39),t.downarrow=n(40),t.uparrow=n(38)}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-events-typing plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t=function(e,t){var n,i=0==={inputtext:0,input:0,textareatextarea:0}[[(e.tagName||"").toLowerCase(),(e.type||"").toLowerCase()].join("")]||"undefined"!=typeof e.contentEditable;try{document.createEvent("TouchEvent"),n=1e3}catch(r){n=500}if(i){var o,s=null,a=function(e){var i=this;clearTimeout(s),(void 0===o||o===!0)&&t({node:i,original:e,typingState:"typing",sourceKey:"paste"===e.type?"paste":"typed"}),o=!1,s=setTimeout(function(){o=!0,t({node:i,original:e,typingState:"paused"})},n)},u=function(e){[8,46].indexOf(e.keyCode)>-1&&a.call(this,e)},l=function(e){s&&clearTimeout(s),t({node:this,original:e,typingState:"stopped"}),o=void 0},c=function(e){t({node:this,original:e,typingState:"beforetyping"})};e.addEventListener("focus",c),e.addEventListener("keypress",a),e.addEventListener("keydown",u),e.addEventListener("paste",a),e.addEventListener("blur",l)}return{teardown:function(){e.removeEventListener("focus",c),e.removeEventListener("keypress",a),e.removeEventListener("keydown",u),e.removeEventListener("paste",a),e.removeEventListener("blur",l)}}};e.events.typing=t}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-transitions-fade plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t,n;n={delay:0,duration:300,easing:"linear"},t=function(e,t){var i;t=e.processParams(t,n),e.isIntro?(i=e.getStyle("opacity"),e.setStyle("opacity",0)):i=0,e.animateStyle("opacity",i,t).then(e.complete)},e.transitions.fade=t}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-transitions-slide plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t,n,i,r;r={duration:300,easing:"easeInOut"},n=["height","borderTopWidth","borderBottomWidth","paddingTop","paddingBottom","marginTop","marginBottom"],i={height:0,borderTopWidth:0,borderBottomWidth:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},t=function(e,t){var o;t=e.processParams(t,r),e.isIntro?(o=e.getStyle(n),e.setStyle(i)):(e.setStyle(e.getStyle(n)),o=i),e.setStyle("overflowY","hidden"),e.animateStyle(o,t).then(e.complete)},e.transitions.slide=t}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-transitions-fly plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t,n,i;i={duration:400,easing:"easeOut",opacity:0,x:-500,y:0},n=function(e){return 0===e||"string"==typeof e?e:e+"px"},t=function(e,t){var r,o,s,a;t=e.processParams(t,i),r=n(t.x),o=n(t.y),s={transform:"translate("+r+","+o+")",opacity:0},e.isIntro?(a=e.getStyle(["opacity","transform"]),e.setStyle(s)):a=s,e.animateStyle(a,t).then(e.complete)},e.transitions.fly=t}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive-transitions-scale plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t,n;n={duration:250,easing:"ease-out",fade:!0,from:.3,to:1},t=function(e,t){t=e.processParams(t,n);var i,r="scale("+t.to+")",o="scale("+t.from+")",s={};e.isIntro&&(e.setStyle("transform",o),e.fade!==!1&&(i=e.getStyle("opacity"),e.setStyle("opacity",0))),s.opacity=e.isIntro?i:0,e.fade!==!1&&(s.transform=e.isIntro?r:o),e.animateStyle(s,t).then(e.complete)},e.transitions.scale=t}),function(e,t){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)t(require("ractive"));else if("function"==typeof define&&define.amd)define(["Ractive"],t);else{if(!e.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive-adaptors-Promise plugin");t(e.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";function t(e,t,n){var i,r;i=this,r=function(t){i.removed||e.set(n,t)},t.then(r,r)}e.adaptors.Promise={filter:function(e){return null!=e&&"function"==typeof e.then},wrap:function(e,n,i,r){return new t(e,n,i,r)}},t.prototype={get:function(){return null},set:function(){},reset:function(){return!1},teardown:function(){this.removed=!0}}});var $=jQuery;if("undefined"==typeof ga)var ga=function(){};var ractive=new Ractive({el:"pmmiSubscriptionWidget",template:"#template",stripComments:!0,data:{promptScrollOnPrimaryInput:!1,prevSuppliedEmail:"",hasPrevSuppliedEmail:!1,isThisCanada:!1,userCountryCode:"",cookiedUser:!1,cookieDataLoaded:!1,userCookie:"",showIntro:!0,savingUserData:!1,errorSavingUserData:!1,savedUserData:!1,prevKey:null,promptNew:!1,newEntry:!1,existingEntry:!1,submitErrors:!1,companyData:{},canadaOptIn:!1,prefersDigitalOnly:!1,prefersHomeDelivery:!1,userPrefMagazine:!1,userPrefNewsFocus:!1,userPrefNewsNews:!1,fullHomeAddress:"",otherJobDutySelected:!1,otherIndustrySelected:!1,otherJobDutyExplain:"",otherIndustryExplain:"",userInformation:{Email:"",AB_Split_Segment:"",AW_3rd_party_email:"",AW_Automation_Involvement:"",AW_Automation_Strategies:"",AW_Automation_Type:"",AW_BR_Playbook:"",AW_Classification:"",AW_Company_Size:"",AW_Demo_Date:"",AW_Engaged:"",AW_Industry:"",AW_Industry_Other:"",AW_Job_Duties:"",AW_Job_Duties_Other:"",AW_Mag_Pedigree:"",AW_Mag_Priority_Code:"",AW_Mag_Request:"",AW_Mag_Requested_Version:"",AW_Management:"",AW_Management_Level:"",AW_Omeda_Reader_Number:"",AW_Personal_Identifier:"",AW_Playbook_Batch_Process_Aggregate:"",AW_Playbook_Continuous_Process_Aggregate:"",AW_Playbook_Factory_and_Machine_Automation_Aggregate:"",AW_UPS_Data_Book:"",AW_Ver_Date:"",Address_1:"",Address_2:"",Affinity_PW_Machinery:"",Affinity_PW_Package_Development:"",Affinity_PW_Sustainability:"",Age_range:"",Agency:"",Annual_Company_Revenue:"",Assigned_NL_AW_Automation_Skills:"",Assigned_NL_AW_Feed_Forward:"",Aud_Dev_Circulation_AW:"",Aud_Dev_Circulation_HCP:"",Aud_Dev_Circulation_PW:"",Aud_Dev_Special_Reports_AW:"",Aud_Dev_Special_Reports_HCP:"",Aud_Dev_Special_Reports_PW:"",BizPage_UPS_LABS_White_Paper:"",Brand_AW:"",Brand_HCP:"",Brand_PMMI_for_AW:"",Brand_PMMI_for_PW:"",Brand_PP_OEM:"",Brand_PW:"",City:"",Comp_List_AW:"",Comp_List_Contract_Packaging:"",Comp_List_Greener:"",Comp_List_HCP:"",Comp_List_PW:"",Comp_List_Status:"",Company:"",Country:"",Custom_NL_Automation_Direct:"",Custom_NL_Automation_Strategies:"",Custom_NL_Campaign_UPS_HCP_Playbook:"",Custom_NL_FDT_Device_Integration_Strategies:"",Custom_NL_Mfg_Intelligence:"",Custom_NL_OPC:"",Custom_NL_PROFInews_NA:"",Custom_NL_PW_Siemens_TIA:"",Custom_NL_Pro_Mach_2012:"",Custom_NL_Siemens_TIA:"",Custom_NL_Siemens_TIA_Automotive_Edition:"",Customer_Field_CSIA_Type:"",Customer_Field_Cognex_Business:"",Customer_Field_Cognex_Industry:"",Customer_Field_Cognex_Involved_Machine_Vision:"",Customer_Field_Cognex_Upcoming_Project:"",Customer_Field_RedLion_Current_Meter_Supplier:"",Customer_Field_RedLion_Part_Number:"",Customer_Field_Siemens_Industry:"",Customer_Field_Siemens_List_Source:"",Customer_Field_Siemens_Region:"",Customer_Field_Siemens_Subset_List:"",Customer_Field_UPS_Industry:"",Customer_Field_UPS_LABS_Industry:"",Customer_Field_UPS_Sustainable_opt_in:"",Customer_Field_UPS_account:"",Customer_Field_UPS_employee_size:"",Customer_Field_UPS_opt_in:"",Customer_Fields_UPS_Sustainable_Industry:"",Customer_Lead_Gen_Form_Cognex:"",Customer_Lead_Gen_Form_RedLion:"",Customer_Lead_Gen_Form_UPS_LABS:"",Customer_Lead_Gen_Form_UPS_LABS_2012_Q2:"",Customer_Lead_Gen_Form_UPS_sustainable:"",Customer_Lead_Gen_Form_UPS_sustainable_2012_Q2:"",Customer_List_Belden:"",Customer_List_Emerson_Exchange:"",Customer_List_Epson_Surepress:"",Customer_List_FDT_group:"",Customer_List_OPC:"",Customer_List_Omron:"",Customer_List_Pro_Mach:"",Customer_List_Profinews:"",Customer_List_Siemens_AW_TIA:"",Customer_List_Siemens_TIA:"",Customer_List_UPS:"",Email_Capture_Content:"",Email_Capture_Position:"",Email_Capture_Source:"",Email_only:"",Email_Medium:"",Engaged_Legacy_AW:"",Engaged_Legacy_PW_HCP:"",Fax:"",First_name:"",Full_Name:"",Generic_UPS_CRO_White_Paper:"",HCP_3rd_party_email:"",HCP_Classification:"",HCP_Custom_Campaign_Dupont_Medical_Device:"",HCP_Demo_Date:"",HCP_Dupont_eblast:"",HCP_Engaged:"",HCP_LearningLogistics_UPS:"",HCP_Mag_Pedigree:"",HCP_Mag_Priority_Code:"",HCP_Mag_Request:"",HCP_Mag_Requested_Version:"",HCP_Omeda_Reader_Number:"",HCP_Personal_Identifier:"",HCP_Playbook_Nosco_Aggregate:"",HCP_Playbook_Serialization_Aggregate:"",HCP_Ver_Date:"",HCP_Webinar_UPS_Aggregate:"",HCP_iPad_Promo:"",Import_Check:"",Import_memo:"",Insights_Average_read_time:"",Insights_Common_device:"",Insights_Engagement_Category:"",Insights_common_region:"",Last_Clicked:"",Last_Engaged_Date_AW:"",Last_Engaged_Date_HCP:"",Last_Engaged_Date_PW:"",Last_Opened:"",Last_Sent:"",Last_name:"",Legacy_Creation_Date:"",NL_AW_Automation_Focus:"",NL_AW_Automation_Skills:"",NL_AW_Best_Of_Blogs:"",NL_AW_Continuous_Processing:"",NL_AW_Factory_Automation:"",NL_AW_Food_Bev_Pharma:"",NL_AW_Global_Edition:"",NL_AW_Industrial_Internet_of_Things:"",NL_AW_News_Insights:"",NL_AW_Product_Insights:"",NL_PP_OEM_Digital_Edition:"",NL_PP_OEM_Focus:"",NL_PP_OEM_Newsletter:"",NL_PW_Contract_Packaging:"",NL_PW_Contract_Packaging_Focus:"",NL_PW_Greener_Package:"",NL_PW_HCP_Healthcare_Packaging:"",NL_PW_HCP_Healthcare_Packaging_Focus:"",NL_PW_HCP_Quick_Hits:"",NL_PW_Live_from_Pack_Expo:"",NL_PW_Machine_Automation_Insights:"",NL_PW_New_Issue_Alert:"",NL_PW_New_Machines:"",NL_PW_On_the_Edge:"",NL_PW_Pack_Expo_Wrap:"",NL_PW_Package_Development:"",NL_PW_Packaging_Focus:"",NL_PW_Packaging_Insights:"",NL_PW_Playbook_End_of_line:"",NL_PW_Playbook_Flexible:"",NL_PW_Playbook_Labeling:"",NL_PW_Playbook_Package_ID:"",NL_PW_Playbook_Primary:"",NL_PW_Shelf_Impact:"",NL_PW_Spotlight_on_Pack_Expo:"",NL_PW_Spotlight_on_Pack_Expo_East:"",NL_PW_eClip:"",NL_Trade_Show_Reports:"",Negative_Quality_Score_PW_Behavior:"",Negative_Quality_Score_PW_Rank:"",Negative_Quality_Score_PW_Score:"",Opt_out_Prospecting_Email:"",PMMI_Attendee_Type:"",PMMI_Buy_Recommend:"",PMMI_Demo_Date:"",PMMI_Employer_Member_Type:"",PMMI_Experient_ID:"",PMMI_Influence:"",PMMI_Member_Number:"",PMMI_Personify_ID:"",PMMI_Random_Segment:"",PMMI_Spend_Authorize:"",PMMI_OptOut:"",PP_OEM_Annual_Revenues:"",PP_OEM_Company_Login:"",PP_OEM_Company_number:"",PP_OEM_Industry:"",PP_OEM_Job_Duties:"",PP_OEM_Reader_number:"",PP_OEM_Verification_Date:"",PP_OEM_Industry_Other:"",PP_OEM_Job_Duties_Other:"",PW_3rd_party_email:"",PW_Automation_Type:"",PW_Classification:"",PW_Comp_List_Priority_Code:"",PW_Custom_NL_Siemens_TIA:"",PW_Demo_Date:"",PW_Engaged:"",PW_HCP_Buying_influence:"",PW_HCP_Company_Size:"",PW_HCP_Contract_Packaging:"",PW_HCP_Industry:"",PW_HCP_Industry_Other:"",PW_HCP_Job_Duties_Multi_Select:"",PW_HCP_Job_Duties_Other:"",PW_HCP_Job_Duties_Primary:"",PW_HCP_Management:"",PW_HCP_Management_Level:"",PW_HCP_Perform_Contract_Packaging:"",PW_HCP_Private_Label:"",PW_HCP_Simple_Industry:"",PW_Mag_Pedigree:"",PW_Mag_Priority_Code:"",PW_Mag_Request:"",PW_Mag_Requested_Version:"",PW_Omeda_Reader_Number:"",PW_Personal_Identifier:"",PW_Playbook_End_of_Line_Aggregate:"",PW_Playbook_Flexible_Aggregate:"",PW_Playbook_Food_Safety_Aggregate:"",PW_Playbook_Labeling_Aggregate:"",PW_Playbook_Package_Development_Aggregate:"",PW_Playbook_Packaging_Machinery_Aggregate:"",PW_Playbook_Primary_Aggregate:"",PW_Showcase:"",PW_Survey_SI_Innovations:"",PW_UPS_CRO_White_Paper:"",PW_UPS_Data_Book:"",PW_Ver_Date:"",PW_Webinar_Mitsubishi:"",PW_Webinar_Omron:"",PW_Webinar_SAP:"",PW_iPad_Promo:"",Permission_ACHEMA:"",Permission_AW_360:"",Permission_AW_ABB:"",Permission_AW_Belden_Custom_Newsletter:"",Permission_AW_Belden_Webinar:"",Permission_AW_Convergence_Ebook:"",Permission_AW_Digital_Edition:"",Permission_AW_Emerson_Exchange:"",Permission_AW_FDT_ebook:"",Permission_AW_Festo_Webinar:"",Permission_AW_NL_Automation_Strategies:"",Permission_AW_TAC_Editorial:"",Permission_AW_TIA_Automotive_Edition:"",Permission_AW_TacticalBrief:"",Permission_AW_eplan_cobranded:"",Permission_HCP_Digital_Edition:"",Permission_HCP_Dupont_Medical_Device:"",Permission_HCP_Healthcare_Logistics_Minute:"",Permission_HCP_Healthcare_Logistics_Survey:"",Permission_HCP_Healthcare_Logistics_Update:"",Permission_HCP_Labs_WhitePaper_UPS:"",Permission_HCP_LearningLogistics_UPS:"",Permission_HCP_PMMI:"",Permission_HCP_RX_Update:"",Permission_HCP_TacticalBrief_Cryopak:"",Permission_HCP_Webinar_UPS:"",Permission_HCP_ebook_DDL:"",Permission_House_Editorial:"",Permission_Market_Line:"",Permission_NL_GE_2014:"",Permission_PW_Digital_Edition:"",Permission_PW_Machine_Automation_Playbook:"",Permission_PW_PMMI:"",Permission_PW_TAC_Editorial:"",Permission_PW_playbook_End_of_Line:"",Permission_PW_playbook_Flexible:"",Permission_PW_playbook_Food_Safety:"",Permission_PW_playbook_Primary:"",Permission_PW_playbook_Workforce_Development:"",Permission_PW_playbook_labeling:"",Permission_PW_playbook_package_dev:"",Permission_Playbook_Call_for_Experts:"",Permission_TAC_promo:"",Permission_TacticalBrief_SICK:"",Permission_AW_Batch_Process_Playbook:"",Permission_AW_Beckoff_Webinar:"",Permission_AW_CoBranded_Newsletters:"",Permission_AW_Continuous_Process_Playbook:"",Permission_AW_Dive_Deep_Video:"",Permission_AW_Factory_and_Machine_Automation_Playbook:"",Permission_AW_GE_Webinar:"",Permission_AW_NI_Video:"",Permission_AW_SICK_Machine_Safety_Newsletter:"",Permission_AW_ShowDaily_Schneider:"",Permission_AW_SpecialEnhancedContent:"",Permission_AW_Survey_Eaton:"",Permission_AW_specialevents:"",Permission_HCP_LifeScienceMaterials_Playbook:"",Permission_HCP_Serialization_Playbook:"",Permission_HCP_SpecialEnhancedContent:"",Permission_PW_CalPoly_Webinar:"",Permission_PW_SpecialEnhancedContent:"",Permission_PW_ThermoFisher_Webinar:"",Permissions_AW_Survey:"",Permissions_PW_Survey:"",Permissions_PW_TechMin:"",Phone:"",Promo_AW_Digital:"",Promo_AW_issue:"",Promo_HCP_Digital:"",Promo_HCP_issue:"",Promo_Leadership_AW:"",Promo_Leadership_PW:"",Promo_PP_OEM_issue:"",Promo_PW_Digital:"",Promo_PW_issue:"",Promo_SPS:"",Promo_TAC:"",Promo_apps:"",Registration_Capture_Content:"",Registration_History:"",Salesforce_Lead_ID:"",Segmenting:"",Send_Hour:"",State:"",Summit_Sales_Rep:"",Title:"",Toyota_Email:"",UPS_LABS_White_Paper:"",Unsubscribe_Reason_AW:"",Unsubscribe_Reason_HCP:"",Unsubscribe_Reason_PW:"",Zip:""},selectedJobDuty:"Job duty",jobduties:["Job duty","Engineering","Production/Manufacturing","Service/Support","Purchasing","Marketing/Brand Manager","Sales","CEO/Gen Mgr/Other Senior Mgmt","Other"],selectedIndustry:"Select industry",industries:["Select industry","Packaging Machinery OEM","Processing Machinery OEM","Converting Machinery OEM","Plastics Machinery OEM","Systems Integrator","Other (please specify)"],selectedRevenue:"Annual revenue",revenues:["Annual revenue","Under $10 million","$10 to $20 million","$20 to $50 million","Over $50 million"],isBizEmail:!1,homeGoogleData:[],compGoogleData:[]},togglePrevEmail:function(){this.get("cookiedUser")||(this.toggle("hasPrevSuppliedEmail"),this.get("hasPrevSuppliedEmail")?this.set("userInformation.Email",this.get("prevSuppliedEmail")):(this.set("prevSuppliedEmail",""),this.set("userInformation.Email","")))},listSelect:function(e,t){this.set("prevKey",null),this.set("promptNew",!1),this.set("existingEntry",!0),this.set("companyData",t.item.data),$("#primary-input").blur().focusout(),ga("send","event","PP OEM Subscription Form","Selected from existing company list","Input action")},selectValidate:function(e){var t=this,n=t.get("userInformation.PP_OEM_Job_Duties"),i=[],r=$(e).children().toArray();return r.shift(),r.forEach(function(e,t){i[e.value]=t}),n in i?($(e).removeClass("error").addClass("is-selected is-approved"),void $("+ * + div i",e).removeClass("fa-asterisk").fadeIn(500).addClass("fa-check reqover")):($(e).addClass("error").removeClass("is-selected is-approved"),void($("+ * + div i",e).hasClass("fa-check")&&$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk")))},generalValidate:function(e){return""===$(e).val()?($(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).hasClass("fa-check")&&$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"),void $("+ .speciallabel",e).slideUp(500).addClass("notyet")):$(e).val().length<=$(e).attr("minlength")?void($(e).hasClass("error")||($(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"))):($(e).removeClass("error").addClass("is-approved"),$("+ * + div i",e).removeClass("fa-asterisk").fadeIn(500).addClass("fa-check reqover"),void $("+ .speciallabel",e).slideUp(500).addClass("notyet"))},phoneValidate:function(e){return""===$(e).val()?($("+ * + div i",e).fadeOut(500).removeClass("fa-asterisk"),void $("+ .speciallabel",e).slideUp(500).addClass("notyet")):(14!==$(e).val().length&&""!==$(e).val()&&($(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk")),""===$(e).val()&&($(e).removeClass("error"),$("+ * + div i",e).fadeOut(500).removeClass("fa-asterisk fa-check reqover")),14===$(e).val().length?($(e).removeClass("error").addClass("is-approved"),$("+ * + div i",e).removeClass("fa-asterisk").fadeIn(500).addClass("fa-check reqover"),void $("+ .speciallabel",e).slideUp(500).addClass("notyet")):void 0)},emailValidate:function(e){var t=$(e).val();if(this.set("isBizEmail",!1),0===t.length)return $(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"),void $("+ .speciallabel",e).slideUp(500).addClass("notyet");if(t.length>0){t.length<=5&&($(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"),$("+ .speciallabel",e).slideUp(500).addClass("notyet"));var n=/(?:info|sales|sale|help|marketing)/gi,i=t.indexOf("@");if(0>=i)return $(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"),$("+ .speciallabel",e).slideUp(500).addClass("notyet"),void ga("send","event","PP OEM Subscription Form","Entered an incomplete email","Input action");var r=t.substring(0,i);if(n.test(r))return this.set("isBizEmail",!0),$(e).addClass("error").removeClass("is-approved"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"),$("+ .speciallabel",e).slideUp(500).addClass("notyet"),void ga("send","event","PP OEM Subscription Form","Tried to enter a marketing email","Input action");var o=/([-!#-'*+\/-9=?A-Z^-~]+(\.[-!#-'*+\/-9=?A-Z^-~]+)*|"([]!#-[^-~ \t]|(\\[\t -~]))+")@[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?(\.[0-9A-Za-z]([0-9A-Za-z-]{0,61}[0-9A-Za-z])?)*\.(net|org|com|info|etc|co.*|aero|coop|info|museum|name|biz|xxx|ac|af|ax|al|dz|us|as|ad|ao|ai|aq|ag|an|ar|am|aw|au|at|az|bs|bh|bd|bb|by|be|bz|bj|bm|bt|bo|ba|bw|bv|br|io|bn|bg|bf|mm|bi|kh|cm|ca|cv|ky|cf|td|cl|cn|cx|cc|co|km|cd|cg|ck|cr|ci|hr|cu|an|cy|cz|dk|dj|dm|do|tp|ec|eg|sv|uk|gq|er|ee|et|eu|fo|fj|fi|fr|gf|pf|tf|ga|gm|ge|gs|de|gh|gi|gb|gr|gl|gd|gp|gu|gt|gg|sr|gf|gn|gw|gq|pg|gy|ht|hm|va|hn|hk|hr|hu|is|in|io|id|ir|iq|ie|im|il|it|ci|jm|jp|je|jo|kz|cc|ke|ki|kn|kp|kr|kw|kg|lk|la|lv|lb|ls|lr|ly|li|lt|lc|lu|mo|mk|mg|mw|my|mv|ml|mt|fk|mp|mh|mr|mu|yt|fm|mx|md|mc|mn|me|ms|ma|mz|mm|na|nr|np|nl|an|nc|pg|nz|ni|ne|ng|nu|nf|mp|kp|no|om|pk|pw|ps|pa|pg|py|pe|ph|pm|pn|pl|pf|pt|pr|qa|re|ro|ru|rw|sh|kn|lc|vc|sv|as|sm|gs|st Arabia|sa|sn|rs|me|cs|rs|sc|sl|sg|sk|si|sb|so|za|kr|su|es|lk|sd|sr|sj|sz|se|ch|sy|tw|tj|tz|thno|tp|tl|tg|tk|to|tt|tn|tr|tm|tc|tv|ug|ua|ae|uk|us|um|vi|uy|uz|vu|va|ve|vn|vg|vi|wf|eh|ws|ye|yu|me|rs|zr|zw|zm)/gi;
return o.test(t)?($(e).removeClass("error").addClass("is-approved"),$("+ * + div i",e).removeClass("fa-asterisk").fadeIn(500).addClass("fa-check reqover"),$("+ .speciallabel",e).slideUp(500).addClass("notyet"),void ga("send","event","PP OEM Subscription Form","Entered a malformed email","Input action")):($(e).addClass("error"),$("+ * + div i",e).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk"),void $("+ .speciallabel",e).slideUp(500).addClass("notyet"))}},handleHomeDeliveryPrefs:function(){var e=this;e.get("prefersHomeDelivery")?(e.set("userInformation.Address_1","undefined"==typeof e.get("homeGoogleData.street_l")?e.get("userInformation.Address_1"):e.get("homeGoogleData.num_l")+" "+e.get("homeGoogleData.street_l")),e.set("userInformation.City",e.get("undefined"==typeof e.get("homeGoogleData.city_l")?"userInformation.City":"homeGoogleData.city_l")),e.set("userInformation.State",e.get("undefined"==typeof e.get("homeGoogleData.state_l")?"userInformation.State":"homeGoogleData.state_l")),e.set("userInformation.Zip",e.get("undefined"==typeof e.get("homeGoogleData.zip_l")?"userInformation.Zip":"homeGoogleData.zip_l")),e.set("userInformation.Country",e.get("undefined"==typeof e.get("homeGoogleData.country_l")?"userInformation.Country":"homeGoogleData.country_l"))):(e.set("userInformation.Address_1",e.get("companyData.address_1")),e.set("userInformation.Address_2",e.get("companyData.address_2")),e.set("userInformation.City",e.get("companyData.city")),e.set("userInformation.State",e.get("companyData.state")),e.set("userInformation.Zip",e.get("companyData.zipcode")),e.set("userInformation.Country",e.get("companyData.country")))},handleOptInFactors:function(){var e=this;e.get("prefersDigitalOnly")?e.set("userInformation.NL_PP_OEM_Digital_Edition","No"):e.set("userInformation.NL_PP_OEM_Digital_Edition","Yes"),e.get("isThisCanada")&&e.get("canadaOptIn")&&(e.set("userInformation.NL_PP_OEM_Newsletter","Yes"),e.set("userInformation.NL_PP_OEM_Focus","Yes")),e.get("isThisCanada")&&!e.get("canadaOptIn")&&(e.set("userInformation.NL_PP_OEM_Newsletter","No"),e.set("userInformation.NL_PP_OEM_Focus","No")),e.get("isThisCanada")||(e.set("userInformation.NL_PP_OEM_Newsletter","Yes"),e.set("userInformation.NL_PP_OEM_Focus","Yes"))},oninit:function(){var e,t,n=this;$.ajax({url:"//www.geoplugin.net/json.gp?jsoncallback=?",type:"GET",contentType:"JSON",dataType:"JSON",success:function(e){n.set("userCountryCode",e.geoplugin_countryCode),"CA"===e.geoplugin_countryCode&&(n.set("isThisCanada",!0),ga("send","event","PP OEM Subscription Form","Visitor from Canadian IP","Input action"))},error:function(){}});var i="undefined"==typeof QueryString.spUserID||""===QueryString.spUserID;if(i&&(i=-1===document.cookie.indexOf("reader_token")),"undefined"!=typeof QueryString.email&&""!==QueryString.email){n.set("hasPrevSuppliedEmail",!0),n.set("prevSuppliedEmail",decodeURIComponent(QueryString.email));var r,o=window.location.href;r=UpdateQueryString("email","",o),history.replaceState(null,null,r),history.pushState(null,null,r),ga("send","event","PP OEM Subscription Form","New signup via newsletter box in article","Input action")}if(i?n.get("hasPrevSuppliedEmail")&&n.set("userInformation.Email",n.get("prevSuppliedEmail")):(this.set("cookiedUser",!0),this.set("userCookie",QueryString.spUserID),setTimeout(function(){n.set("showIntro",!1),ga("send","event","PP OEM Subscription Form","Cookied visitor evoked preference panel","Input action")},2),$.ajax({url:"//www.pp-oem.com/api/v1/silverpop/retrieve",dataType:"jsonp",type:"GET",data:{spUserID:"undefined"==typeof QueryString.spUserID||""===QueryString.spUserID?"":n.get("userCookie")},success:function(i){var r={};""!==i.Phone&&(i.Phone.replace(/[^1-9]/g,""),-1===i.Phone.indexOf("(",0)&&(i.Phone="("+i.Phone),-1===i.Phone.indexOf(")",4)&&(i.Phone=i.Phone.slice(0,4)+") "+i.Phone.slice(4,-1)),-1===i.Phone.indexOf("-",9)&&(i.Phone=i.Phone.slice(0,9)+"-"+i.Phone.slice(9,-1)));for(var o in i)r[o.replace(/ /g,"_")]=i[o];if(n.set("cookieDataLoaded",!0),"Yes"===r.Prefers_Home_Delivery?n.set("prefersHomeDelivery",!0):n.set("prefersHomeDelivery",!1),n.set("userInformation",r),n.set("selectedJobDuty",r.PP_OEM_Job_Duties),t="//leadworks.pmmimediagroup.com/api/getCompaniesByName",e={name:n.get("userInformation.Company")},$.ajax({url:t,type:"GET",data:e,dataType:"jsonp",success:function(e){n.set("companyData",e[0])},fail:function(){n.set("companyData",[]),n.set("companyData.company_name",n.get("userInformation.Company"))},error:function(){n.set("companyData",[]),n.set("companyData.company_name",n.get("userInformation.Company"))}}),n.get("prefersHomeDelivery")){var s=r.Address_1+", "+r.City+", "+r.State+", "+r.Country;n.set("fullHomeAddress",s)}else;"Yes"===n.get("userInformation.NL_PP_OEM_Digital_Edition")?n.set("userPrefMagazine",!0):n.set("userPrefMagazine",!1),"Yes"===n.get("userInformation.NL_PP_OEM_Newsletter")?n.set("userPrefNewsNews",!0):n.set("userPrefNewsNews",!1),"Yes"===n.get("userInformation.NL_PP_OEM_Focus")?n.set("userPrefNewsFocus",!0):n.set("userPrefNewsFocus",!1)}}).then(function(){setTimeout(function(){$(".psw-input").each(function(e,t){$(t).hasClass("is-must")&&n.generalValidate(t),$(t).data("phone")&&n.phoneValidate(t),$(t).data("email")&&n.emailValidate(t)}),$(".psw-select").each(function(e,t){n.selectValidate(t)})})})),"undefined"!=typeof QueryString.displayPrefs&&"true"===QueryString.displayPrefs){var s,a=window.location.href;s=UpdateQueryString("displayPrefs","false",a),history.replaceState(null,null,s),history.pushState(null,null,s)}}});ractive.observe("newEntry",function(e){var t=this;e===!0&&(ractive.animate("showIntro",!1),ractive.set("existingEntry",!1),setTimeout(function(){t.generalValidate($("#form-company-name"))},5),setTimeout(function(){t.get("hasPrevSuppliedEmail")&&$("#form-work-email + * + div i").removeClass("fa-asterisk").addClass("fa-check reqover")},5)),ractive.get("newEntry")||ractive.get("existingEntry")||ractive.get("cookiedUser")||(ractive.animate("showIntro",!0),ga("send","event","AW Subscription Form","Backed out of new/existing selection","Input action")),ga("send","event","AW Subscription Form","New company entry","Input action")}),ractive.observe("cookiedUser",function(e){e===!0&&(ractive.animate("showIntro",!1),ractive.set("newEntry",!1),ractive.set("existingEntry",!1)),ractive.get("newEntry")||ractive.get("existingEntry")||ractive.get("cookiedUser")||ractive.animate("showIntro",!0)}),ractive.observe("existingEntry",function(e){var t=this;e===!0&&(ractive.animate("showIntro",!1),ractive.set("newEntry",!1),setTimeout(function(){t.get("hasPrevSuppliedEmail")&&$("#form-work-email + * + div i").removeClass("fa-asterisk").addClass("fa-check reqover")},5)),ractive.get("newEntry")||ractive.get("existingEntry")||ractive.get("cookiedUser")||(ractive.animate("showIntro",!0),ga("send","event","AW Subscription Form","Backed out of new/existing selection","Input action")),ga("send","event","AW Subscription Form","Existing company entry","Input action")}),ractive.on("reset-form",function(){ractive.set("existingEntry",!1),ractive.set("newEntry",!1),ractive.fire("reset-form-data"),ractive.animate("showIntro",!0),ga("send","event","PP OEM Subscription Form","Reset form data","Input action"),$("#primary-input").focus()}),ractive.on("sift-out",function(e){var t=""!==$("#primary-input").val()?!0:!1,n=e.original.which;return this.get("showIntro")?t?((13===n||9===n)&&(13===this.get("prevKey")||9===this.get("prevKey")?(this.set("promptNew",!1),this.set("prevKey",null),this.set("newEntry",!0),this.set("companyData",{}),$("#primary-input").blur().focusout()):(this.set("promptNew",!0),this.set("prevKey",n))),void this.set("prevKey",n)):void((13===n||9===n)&&this.set("promptNew",!0)):void $("#existing-first-name").focus()}),ractive.on("primary-input-blur",function(e){$("+ .speciallabel",e.node).slideUp(500).addClass("notyet"),this.set("prevKey",null),this.set("promptNew",!1)}),ractive.on("primary-input-focus",function(e){$("+ .speciallabel",e.node).slideDown(500).removeClass("notyet"),this.set("prevKey",null),this.set("promptNew",!1)}),ractive.on("primary-check-content",function(e){8===e.original.which&&""===$("#primary-input").val()&&(this.set("newEntry",!1),this.set("existingEntry",!1),this.set("prevKey",!1))}),ractive.on("select-blur",function(e,t){var n=t.split(","),i=this.get(n[0]);this.get(n[1])!==i[0]?($(e.node).addClass("is-selected is-approved"),$("+ * + div i",e.node).removeClass("fa-asterisk").fadeIn(500).addClass("fa-check reqover")):($(e.node).removeClass("is-selected is-approved"),$(e.node).addClass("error"),$("+ * + div i",e.node).removeClass("fa-check reqover").fadeIn(500).addClass("fa-asterisk")),$("+ .speciallabel",e.node).slideUp(500).addClass("notyet")}),ractive.on("input-focus",function(e){$(e.node).removeClass("error").removeClass("first-touch is-approved"),$("+ .speciallabel",e.node).slideDown(500).removeClass("notyet"),"form-company-address-full"===e.node.id&&initCompanyAutocomplete()}),ractive.on("home-input-focus",function(e){$(e.node).removeClass("error").removeClass("first-touch is-approved"),$("+ .speciallabel",e.node).slideDown(500).removeClass("notyet"),initHomeAutocomplete()}),ractive.on("input-blur",function(e,t){var n=this;$(e.node).hasClass("is-must")&&n.generalValidate(e.node),"phone"===t&&n.phoneValidate(e.node),"email"===t&&n.emailValidate(e.node),$("+ .speciallabel",e.node).slideUp(500).addClass("notyet")}),ractive.on("form-submit",function(e,t){var n=this,i={},r=!0,o=$(".error").length||$(".first-touch").length;if(o)r=!1,this.set("submitErrors",!0),window.setTimeout(function(){n.set("submitErrors",!1)},5e3),ga("send","event","AW Subscription Form","Errors on form submit","Input action");else{n.set("savingUserData",!0),n.set("userInformation.Company",n.get("primeInput")||n.get("companyData.company_name")),n.set("Brand_AW","Yes"),n.set("userInformation.Full_Name",n.get("userInformation.First_name")+" "+n.get("userInformation.Last_name")),n.get("prefersHomeDelivery"),ga("send","event","AW Subscription Form","Valid form submit","Input action"),"newcompany"===t&&(n.set("companyData.companyname",n.get("userInformation.Company")),n.set("companyData.addr",n.get("compGoogleData.num_l")+" "+n.get("compGoogleData.street_l")),n.set("companyData.addr2",n.get("userInformation.Address_2")),n.set("companyData.city",n.get("compGoogleData.city_l")),n.set("companyData.state",n.get("compGoogleData.state_l")),n.set("companyData.zip",n.get("compGoogleData.zip_l")),n.set("companyData.country",n.get("compGoogleData.country_l")),n.set("companyData.pp_oem_industry",n.get("selectedIndustry")),n.set("companyData.pp_oem_annual_revenues",n.get("selectedRevenue")),n.set("companyData.email",n.get("userInformation.Email")),$.ajax({url:"//leadworks.pmmimediagroup.com/api/companyUnnormalizedAdd",data:n.get("companyData"),crossDomain:!0,dataType:"json",type:"POST",success:function(){},fail:function(){}}),n.handleOptInFactors(),n.set("userInformation.Canadian_Subscriber",n.get("isThisCanada")),n.set("userInformation.Canadian_OptIn_OptOut",n.get("canadaOptIn")),n.set("userInformation.Magazine_OutIn_OptOut",n.get("userPrefMagazine")),n.handleHomeDeliveryPrefs(),ga("send","event","AW Subscription Form","Valid new form submit","Input action")),"newcompany"===t&&(n.set("userInformation.AW_Industry",n.get("selectedIndustry")),n.set("userInformation.AW_Job_Duties",n.get("selectedJobDuty")),n.set("userInformation.AW_Annual_Revenues",n.get("selectedRevenue"))),"existing"===t&&(n.set("userInformation.AW_Industry",n.get("companyData.aw_industry")),n.set("userInformation.PP_OEM_Annual_Revenues",n.get(""!==n.get("companyData.pp_oem_annual_revenues")?"companyData.pp_oem_annual_revenues":"selectedRevenue")),n.set("userInformation.PP_OEM_Job_Duties",n.get("selectedJobDuty")),n.handleOptInFactors(),n.set("userInformation.Canadian_Subscriber",n.get("isThisCanada")),n.set("userInformation.Canadian_OptIn_OptOut",n.get("canadaOptIn")),n.set("userInformation.Magazine_OutIn_OptOut",n.get("userPrefMagazine")),n.handleHomeDeliveryPrefs(),ga("send","event","PP OEM Subscription Form","Valid existing form submit","Input action")),"cookied"===t&&(n.set("userInformation.PP_OEM_Job_Duties",n.get("selectedJobDuty")),n.get("userPrefMagazine")?n.set("userInformation.NL_PP_OEM_Digital_Edition","Yes"):n.set("userInformation.NL_PP_OEM_Digital_Edition","No"),n.get("userPrefNewsNews")?n.set("userInformation.NL_PP_OEM_Newsletter","Yes"):n.set("userInformation.NL_PP_OEM_Newsletter","No"),n.get("userPrefNewsFocus")?n.set("userInformation.NL_PP_OEM_Focus","Yes"):n.set("userInformation.NL_PP_OEM_Focus","No"),n.handleHomeDeliveryPrefs(),ga("send","event","PP OEM Subscription Form","Valid cookied form submit","Input action")),n.set("userInformation.Brand_PP_OEM","Yes"),n.set("userInformation.form_id","PP_OEM Magazine Signup Form");var s=new Date,a=s.getDate(),u=s.getMonth()+1,l=s.getFullYear();n.set("userInformation.PP_OEM_Verification_Date",str_pad(u)+"/"+str_pad(a)+"/"+l),n.set("userInformation.Email_only","Converted");var c=n.get("userInformation");for(var h in c)i[h.replace(/_/g," ")]=c[h];$.ajax({url:"//www.pp-oem.com/api/v1/silverpop/post",crossDomain:!0,type:"POST",dataType:"json",data:i,success:function(e){n.set("savedUserData",!0),setTimeout(function(){n.set("savingUserData",!1),n.set("savedUserData",!1)},3e3);var t,i=window.location.href;t=UpdateQueryString("spUserID",e.spUserID,i),history.replaceState(null,null,t),history.pushState(null,null,t),QueryString.spUserID=e.spUserID,ga("send","event","PP OEM Subscription Form","Server successfully accepted form","Form action"),n.oninit()},fail:function(){n.set("savingUserData",!1)},error:function(){n.set("errorSavingUserData",!0),setTimeout(function(){n.set("errorSavingUserData",!1),n.set("savingUserData",!1)},3e3),ga("send","event","PP OEM Subscription Form","Server failed to accepted form","Form action")}})}}),ractive.on("phone-formatting",function(e){var t,n=e,i=$(n.node).val().length;if(37!==e.original.keyCode&&38!==e.original.keyCode&&39!==e.original.keyCode&&40!==e.original.keyCode)if(14===i&&8!==e.original.keyCode&&9!==e.original.keyCode&&e.original.preventDefault(),9!==e.original.keyCode||e.original.shiftKey||(t=$(n.node).attr("tabindex")+1,$("[tabindex="+t+"]").focus()),9===e.original.keyCode&&e.original.shiftKey&&(t=$(n.node).attr("tabindex")-1,$("[tabindex="+t+"]").focus()),$(n.node).hasClass("error")&&$(n.node).removeClass("error"),!e.original.shiftKey&&(e.original.keyCode>=48&&e.original.keyCode<=57||e.original.keyCode>=96&&e.keyCode<=105||8===e.original.keyCode||9===e.original.keyCode))if(8!==e.original.keyCode)3===i&&($(n.node).val("("+$(n.node).val()),i=$(n.node).val().length),4===i&&$(n.node).val($(n.node).val()+") "),9===i&&$(n.node).val($(n.node).val()+"-");else{if(8===e.original.keyCode)return void(7===i?$(n.node).val($(n.node).val().slice(1,-3)):11===i&&$(n.node).val($(n.node).val().slice(0,-2)));e.original.preventDefault()}else e.original.preventDefault()}),ractive.observe("prefersHomeDelivery",function(){this.set("fullHomeAddress","")}),ractive.observe("selectedJobDuty",function(){var e=this.get("jobduties"),t=e.length-1;this.get("selectedJobDuty")===e[t]?this.set("otherJobDutySelected",!0):this.set("otherJobDutySelected",!1)}),ractive.observe("selectedIndustry",function(){var e=this.get("industries"),t=e.length-1;this.get("selectedIndustry")===e[t]?this.set("otherIndustrySelected",!0):this.set("otherIndustrySelected",!1)}),ractive.on("toggleHomeDelivery",function(){this.toggle("prefersHomeDelivery"),ga("send","event","PP OEM Subscription Form","Set home delivery to "+this.get("prefersHomeDelivery"),"Input action"),this.get("prefersHomeDelivery")?this.set("userInformation.Prefers_Home_Delivery","Yes"):this.set("userInformation.Prefers_Home_Delivery","No")}),ractive.on("toggleDigitalOnly",function(){this.toggle("prefersDigitalOnly"),ga("send","event","PP OEM Subscription Form","Set magazine opt-in to "+this.get("prefersDigitalOnly"),"Input action"),this.get("prefersDigitalOnly")&&this.set("prefersHomeDelivery",!1)}),ractive.on("toggleCanadaRule",function(){this.toggle("canadaOptIn"),ga("send","event","PP OEM Subscription Form","Canada-only opt-in set to  "+this.get("canadaOptIn"),"Input action")}),ractive.on("handle-newsletter-select",function(e,t){var n=this.get("enewsletters");n[t].selected=!n[t].selected,this.animate("enewsletters",n)}),ractive.on("handle-newsletter-allnone",function(e,t){var n=this.get("enewsletters");n.forEach(function(e){e.selected=t}),this.set("enewsletters",n)}),ractive.on("reset-form-data",function(){this.reset({savedUserData:!1,errorSavingUserData:!1,savingUserData:!1,isThisCanada:!1,userCountryCode:"",canadaOptIn:!1,companyData:{},prefersDigitalOnly:!1,prefersHomeDelivery:!1,otherJobDutySelected:!1,otherIndustrySelected:!1,userPrefMagazine:!1,userPrefNewsFocus:!1,userPrefNewsNews:!1,otherJobDutyExplain:"",otherIndustryExplain:"",selectedJobDuty:"Job duty",jobduties:["Job duty","Engineering","Production/Manufacturing","Service/Support","Purchasing","Marketing/Brand Manager","Sales","CEO/Gen Mgr/Other Senior Mgmt","Other"],selectedIndustry:"Select industry",industries:["Select industry","Packaging Machinery OEM","Processing Machinery OEM","Converting Machinery OEM","Plastics Machinery OEM","Systems Integrator","Other (please specify)"],selectedRevenue:"Annual revenue",revenues:["Annual revenue","Under $10 million","$10 to $20 million","$20 to $50 million","Over $50 million"],pnewsletters:[{title:"Packaging and Processing OEM",frequency:"Quarterly",code:"print",desc:"something something OEM",selected:!0}],enewsletters:[{title:"Newsletter #1",frequency:"2x/month",code:"xx-1",desc:"Systems impactful envisioneer expedite platforms, leverage; best-of-breed, 'back-end architect?'",selected:!0},{title:"Newsletter #2",frequency:"infrequent",code:"xx-1",desc:"Transparent, experiences; strategize social benchmark global peer-to-peer platforms.",selected:!1},{title:"Newsletter #3",frequency:"4x/month",code:"xx-1",desc:"Rich-clientAPIs 24/7, authentic iterate disintermediate interactive visualize webservices real-time enable back-end, rich-clientAPIs robust wikis productize.",selected:!0}]})});